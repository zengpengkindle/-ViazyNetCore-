import{l as e,D as t,_ as n,V as o,d as a,a as s,b as i,c as r,f as c,u as p,m as l,o as d,j as u,w as m,k as f,q as g,r as h,t as w,v as y,M as O}from"./doc-102f3df0.js";import{C as b}from"./clipboard-1e625bc7.js";import{a as j}from"./ace-d54cf035.js";import{m as v,a as A,t as R,e as C}from"./ext-language_tools-51d0f057.js";import{C as U}from"./CopyOutlined-17cdb9e8.js";const _={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"download",theme:"outlined"};function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){D(e,t,n[t])}))}return e}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var I=function(n,o){var a=x({},n,o.attrs);return e(t,x({},a,{icon:_}),null)};I.displayName="DownloadOutlined",I.inheritAttrs=!1;const M=I,k=""+new URL("mode-json5-368a455d.js",import.meta.url).href;j.config.setModuleUrl("ace/mode/json",v),j.config.setModuleUrl("ace/mode/json",k),j.config.setModuleUrl("ace/mode/xml",A),j.config.setModuleUrl("ace/theme/eclipse",R),j.config.setModuleUrl("ace/ext-language/tools",C);const E={name:"Document",components:{editor:o,CopyOutlined:U,DownloadOutlined:M,EditorShow:a((()=>s((()=>import("./EditorShow-6922c50b.js")),["./EditorShow-6922c50b.js","./doc-102f3df0.js","..\\css\\doc-f14538b3.css","./ace-d54cf035.js","./ext-language_tools-51d0f057.js"],import.meta.url)))},props:{api:{type:Object,required:!0},swaggerInstance:{type:Object,required:!0}},setup(){const e=i(),t=r((()=>e.language)),{messages:n}=c();return{language:t,messages:n}},data:()=>({openApiRaw:"",name:"OpenAPI.json"}),async created(){this.openApiRaw=p.json5stringify(this.api.openApiRaw),this.name=this.api.summary+"_OpenAPI.json",setTimeout((()=>{this.copyOpenApi()}),500)},methods:{getCurrentI18nInstance(){return this.messages[this.language]},triggerDownloadOpen(){var e=this.openApiRaw,t=document.createElement("a"),n={},o=this.name,a=window.URL.createObjectURL(new Blob([e],{type:(n.type||"text/plain")+";charset="+(n.encoding||"utf-8")}));t.href=a,t.download=o||"file",t.click(),window.URL.revokeObjectURL(a)},copyOpenApi(){const e="btnCopyOpenApi"+this.api.id,t=new b("#"+e,{text:()=>this.openApiRaw});t.on("success",(()=>{const e=this.getCurrentI18nInstance().message.copy.open.success;l.info(e)})),t.on("error",(e=>{const t=this.getCurrentI18nInstance().message.copy.open.fail;l.info(t)}))}}},P={class:"document"},L={style:{"margin-top":"10px"},id:"knife4jDocumentOpenApiShowEditor"};const S=n(E,[["render",function(t,n,o,a,s,i){const r=h("CopyOutlined"),c=O,p=h("DownloadOutlined"),l=g,b=h("editor-show");return d(),u("div",P,[e(l,{style:{"margin-top":"10px"}},{default:m((()=>[e(c,{type:"primary",id:"btnCopyOpenApi"+o.api.id},{default:m((()=>[e(r),f("span",null,w(t.$t("open.copy")),1)])),_:1},8,["id"]),e(c,{style:{"margin-left":"10px"},onClick:i.triggerDownloadOpen},{default:m((()=>[e(p),y(),f("span",null,w(t.$t("open.download")),1)])),_:1},8,["onClick"])])),_:1}),f("div",L,[e(b,{value:s.openApiRaw,"onUpdate:value":n[0]||(n[0]=e=>s.openApiRaw=e),theme:"eclipse"},null,8,["value"])])])}]]);export{S as default};
