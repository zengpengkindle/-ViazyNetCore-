// This file was auto-generated by Caesar.CodeGen. Do not edit directly.

using System;
using System.Collections.Generic;
using System.IO;
using System.Net;
using System.Net.Http;
using System.Threading;
using System.Threading.Tasks;



namespace ViazyNetCore.Http
{
    /// <summary>
    /// Fluent extension methods on String, Url, Uri, and ICaesarRequest.
    /// </summary>
    public static partial class GeneratedExtensions
    {
        /// <summary>
        /// Sends an asynchronous request.
        /// </summary>
        /// <param name="request">This ICaesarRequest</param>
        /// <param name="verb">The HTTP verb used to make the request.</param>
        /// <param name="data">An object representing the request body, which will be serialized to JSON.</param>
        /// <param name="cancellationToken">The token to monitor for cancellation requests.</param>
        /// <param name="completionOption">The HttpCompletionOption used in the request. Optional.</param>
        /// <returns>A Task whose result is the received ICaesarResponse.</returns>
        public static Task<ICaesarResponse> SendJsonAsync(this ICaesarRequest request, HttpMethod verb, object data, CancellationToken cancellationToken = default(CancellationToken), HttpCompletionOption completionOption = HttpCompletionOption.ResponseContentRead)
        {
            request.Content = new CapturedJsonContent(request.Settings.JsonSerializer.Serialize(data));
            return request.SendAsync(verb, cancellationToken: cancellationToken, completionOption: completionOption);
        }


        /// <summary>
        /// Sends an asynchronous request.
        /// </summary>
        /// <param name="request">This ICaesarRequest</param>
        /// <param name="verb">The HTTP verb used to make the request.</param>
        /// <param name="data">Contents of the request body.</param>
        /// <param name="cancellationToken">The token to monitor for cancellation requests.</param>
        /// <param name="completionOption">The HttpCompletionOption used in the request. Optional.</param>
        /// <returns>A Task whose result is the received ICaesarResponse.</returns>
        public static Task<ICaesarResponse> SendStringAsync(this ICaesarRequest request, HttpMethod verb, string data, CancellationToken cancellationToken = default(CancellationToken), HttpCompletionOption completionOption = HttpCompletionOption.ResponseContentRead)
        {
            request.Content = new CapturedStringContent(data);
            return request.SendAsync(verb, cancellationToken: cancellationToken, completionOption: completionOption);
        }

        /// <summary>
        /// Sends an asynchronous request.
        /// </summary>
        /// <param name="request">This ICaesarRequest</param>
        /// <param name="verb">The HTTP verb used to make the request.</param>
        /// <param name="data">Contents of the request body.</param>
        /// <param name="cancellationToken">The token to monitor for cancellation requests.</param>
        /// <param name="completionOption">The HttpCompletionOption used in the request. Optional.</param>
        /// <returns>A Task whose result is the received ICaesarResponse.</returns>
        public static Task<ICaesarResponse> SendUrlEncodedAsync(this ICaesarRequest request, HttpMethod verb, object data, CancellationToken cancellationToken = default(CancellationToken), HttpCompletionOption completionOption = HttpCompletionOption.ResponseContentRead)
        {
            request.Content = new CapturedUrlEncodedContent(request.Settings.UrlEncodedSerializer.Serialize(data));
            return request.SendAsync(verb, cancellationToken: cancellationToken, completionOption: completionOption);
        }

        /// <summary>
        /// Sends an asynchronous GET request.
        /// </summary>
        /// <param name="request">This ICaesarRequest</param>
        /// <param name="cancellationToken">The token to monitor for cancellation requests.</param>
        /// <param name="completionOption">The HttpCompletionOption used in the request. Optional.</param>
        /// <returns>A Task whose result is the received ICaesarResponse.</returns>
        public static Task<ICaesarResponse> GetAsync(this ICaesarRequest request, CancellationToken cancellationToken = default(CancellationToken), HttpCompletionOption completionOption = HttpCompletionOption.ResponseContentRead)
        {
            return request.SendAsync(HttpMethod.Get, cancellationToken: cancellationToken, completionOption: completionOption);
        }

        /// <summary>
        /// Sends an asynchronous GET request.
        /// </summary>
        /// <param name="request">This ICaesarRequest</param>
        /// <param name="cancellationToken">The token to monitor for cancellation requests.</param>
        /// <param name="completionOption">The HttpCompletionOption used in the request. Optional.</param>
        /// <returns>A Task whose result is the JSON response body deserialized to an object of type T.</returns>
        public static Task<T> GetJsonAsync<T>(this ICaesarRequest request, CancellationToken cancellationToken = default(CancellationToken), HttpCompletionOption completionOption = HttpCompletionOption.ResponseContentRead)
        {
            return request.SendAsync(HttpMethod.Get, cancellationToken: cancellationToken, completionOption: completionOption).ReceiveJson<T>();
        }

        /// <summary>
        /// Sends an asynchronous GET request.
        /// </summary>
        /// <param name="request">This ICaesarRequest</param>
        /// <param name="cancellationToken">The token to monitor for cancellation requests.</param>
        /// <param name="completionOption">The HttpCompletionOption used in the request. Optional.</param>
        /// <returns>A Task whose result is the JSON response body deserialized to a dynamic.</returns>
        public static Task<dynamic> GetJsonAsync(this ICaesarRequest request, CancellationToken cancellationToken = default(CancellationToken), HttpCompletionOption completionOption = HttpCompletionOption.ResponseContentRead)
        {
            return request.SendAsync(HttpMethod.Get, cancellationToken: cancellationToken, completionOption: completionOption).ReceiveJson();
        }

        /// <summary>
        /// Sends an asynchronous GET request.
        /// </summary>
        /// <param name="request">This ICaesarRequest</param>
        /// <param name="cancellationToken">The token to monitor for cancellation requests.</param>
        /// <param name="completionOption">The HttpCompletionOption used in the request. Optional.</param>
        /// <returns>A Task whose result is the JSON response body deserialized to a list of dynamics.</returns>
        public static Task<IList<dynamic>> GetJsonListAsync(this ICaesarRequest request, CancellationToken cancellationToken = default(CancellationToken), HttpCompletionOption completionOption = HttpCompletionOption.ResponseContentRead)
        {
            return request.SendAsync(HttpMethod.Get, cancellationToken: cancellationToken, completionOption: completionOption).ReceiveJsonList();
        }

        /// <summary>
        /// Sends an asynchronous GET request.
        /// </summary>
        /// <param name="request">This ICaesarRequest</param>
        /// <param name="cancellationToken">The token to monitor for cancellation requests.</param>
        /// <param name="completionOption">The HttpCompletionOption used in the request. Optional.</param>
        /// <returns>A Task whose result is the response body as a string.</returns>
        public static Task<string> GetStringAsync(this ICaesarRequest request, CancellationToken cancellationToken = default(CancellationToken), HttpCompletionOption completionOption = HttpCompletionOption.ResponseContentRead)
        {
            return request.SendAsync(HttpMethod.Get, cancellationToken: cancellationToken, completionOption: completionOption).ReceiveString();
        }

        /// <summary>
        /// Sends an asynchronous GET request.
        /// </summary>
        /// <param name="request">This ICaesarRequest</param>
        /// <param name="cancellationToken">The token to monitor for cancellation requests.</param>
        /// <param name="completionOption">The HttpCompletionOption used in the request. Optional.</param>
        /// <returns>A Task whose result is the response body as a Stream.</returns>
        public static Task<Stream> GetStreamAsync(this ICaesarRequest request, CancellationToken cancellationToken = default(CancellationToken), HttpCompletionOption completionOption = HttpCompletionOption.ResponseContentRead)
        {
            return request.SendAsync(HttpMethod.Get, cancellationToken: cancellationToken, completionOption: completionOption).ReceiveStream();
        }

        /// <summary>
        /// Sends an asynchronous GET request.
        /// </summary>
        /// <param name="request">This ICaesarRequest</param>
        /// <param name="cancellationToken">The token to monitor for cancellation requests.</param>
        /// <param name="completionOption">The HttpCompletionOption used in the request. Optional.</param>
        /// <returns>A Task whose result is the response body as a byte array.</returns>
        public static Task<byte[]> GetBytesAsync(this ICaesarRequest request, CancellationToken cancellationToken = default(CancellationToken), HttpCompletionOption completionOption = HttpCompletionOption.ResponseContentRead)
        {
            return request.SendAsync(HttpMethod.Get, cancellationToken: cancellationToken, completionOption: completionOption).ReceiveBytes();
        }

        /// <summary>
        /// Sends an asynchronous POST request.
        /// </summary>
        /// <param name="request">This ICaesarRequest</param>
        /// <param name="content">Contents of the request body.</param>
        /// <param name="cancellationToken">The token to monitor for cancellation requests.</param>
        /// <param name="completionOption">The HttpCompletionOption used in the request. Optional.</param>
        /// <returns>A Task whose result is the received ICaesarResponse.</returns>
        public static Task<ICaesarResponse> PostAsync(this ICaesarRequest request, HttpContent content = null, CancellationToken cancellationToken = default(CancellationToken), HttpCompletionOption completionOption = HttpCompletionOption.ResponseContentRead)
        {
            if (content != null)
                request.Content = content;
            return request.SendAsync(HttpMethod.Post, cancellationToken: cancellationToken, completionOption: completionOption);
        }

        /// <summary>
        /// Sends an asynchronous POST request.
        /// </summary>
        /// <param name="request">This ICaesarRequest</param>
        /// <param name="data">An object representing the request body, which will be serialized to JSON.</param>
        /// <param name="cancellationToken">The token to monitor for cancellation requests.</param>
        /// <param name="completionOption">The HttpCompletionOption used in the request. Optional.</param>
        /// <returns>A Task whose result is the received ICaesarResponse.</returns>
        public static Task<ICaesarResponse> PostJsonAsync(this ICaesarRequest request, object data, CancellationToken cancellationToken = default(CancellationToken), HttpCompletionOption completionOption = HttpCompletionOption.ResponseContentRead)
        {
            request.Content = new CapturedJsonContent(request.Settings.JsonSerializer.Serialize(data));
            return request.SendAsync(HttpMethod.Post, cancellationToken: cancellationToken, completionOption: completionOption);
        }


        /// <summary>
        /// Sends an asynchronous POST request.
        /// </summary>
        /// <param name="request">This ICaesarRequest</param>
        /// <param name="data">An object representing the request body, which will be serialized to JSON.</param>
        /// <param name="cancellationToken">The token to monitor for cancellation requests.</param>
        /// <param name="completionOption">The HttpCompletionOption used in the request. Optional.</param>
        /// <returns>A Task whose result is the received ICaesarResponse.</returns>
        public static Task<ICaesarResponse> PostJsonAsync(this ICaesarRequest request, string data, CancellationToken cancellationToken = default(CancellationToken), HttpCompletionOption completionOption = HttpCompletionOption.ResponseContentRead)
        {
            request.Content = new CapturedJsonContent(data);
            return request.SendAsync(HttpMethod.Post, cancellationToken: cancellationToken, completionOption: completionOption);
        }

        public static Task<ICaesarResponse> PostOctetAsync(this ICaesarRequest request, byte[] data, CancellationToken cancellationToken = default(CancellationToken), HttpCompletionOption completionOption = HttpCompletionOption.ResponseContentRead)
        {
            request.Content = new CapturedOctetContent(data);
            return request.SendAsync(HttpMethod.Post, cancellationToken: cancellationToken, completionOption: completionOption);
        }

        /// <summary>
        /// Sends an asynchronous POST request.
        /// </summary>
        /// <param name="request">This ICaesarRequest</param>
        /// <param name="data">Contents of the request body.</param>
        /// <param name="cancellationToken">The token to monitor for cancellation requests.</param>
        /// <param name="completionOption">The HttpCompletionOption used in the request. Optional.</param>
        /// <returns>A Task whose result is the received ICaesarResponse.</returns>
        public static Task<ICaesarResponse> PostStringAsync(this ICaesarRequest request, string data, CancellationToken cancellationToken = default(CancellationToken), HttpCompletionOption completionOption = HttpCompletionOption.ResponseContentRead)
        {
            request.Content = new CapturedStringContent(data);
            return request.SendAsync(HttpMethod.Post, cancellationToken: cancellationToken, completionOption: completionOption);
        }

        /// <summary>
        /// Sends an asynchronous POST request.
        /// </summary>
        /// <param name="request">This ICaesarRequest</param>
        /// <param name="data">Contents of the request body.</param>
        /// <param name="cancellationToken">The token to monitor for cancellation requests.</param>
        /// <param name="completionOption">The HttpCompletionOption used in the request. Optional.</param>
        /// <returns>A Task whose result is the received ICaesarResponse.</returns>
        public static Task<ICaesarResponse> PostUrlEncodedAsync(this ICaesarRequest request, object data, CancellationToken cancellationToken = default(CancellationToken), HttpCompletionOption completionOption = HttpCompletionOption.ResponseContentRead)
        {
            request.Content = new CapturedUrlEncodedContent(request.Settings.UrlEncodedSerializer.Serialize(data));
            return request.SendAsync(HttpMethod.Post, cancellationToken: cancellationToken, completionOption: completionOption);
        }

        /// <summary>
        /// Sends an asynchronous HEAD request.
        /// </summary>
        /// <param name="request">This ICaesarRequest</param>
        /// <param name="cancellationToken">The token to monitor for cancellation requests.</param>
        /// <param name="completionOption">The HttpCompletionOption used in the request. Optional.</param>
        /// <returns>A Task whose result is the received ICaesarResponse.</returns>
        public static Task<ICaesarResponse> HeadAsync(this ICaesarRequest request, CancellationToken cancellationToken = default(CancellationToken), HttpCompletionOption completionOption = HttpCompletionOption.ResponseContentRead)
        {
            return request.SendAsync(HttpMethod.Head, cancellationToken: cancellationToken, completionOption: completionOption);
        }

        /// <summary>
        /// Sends an asynchronous PUT request.
        /// </summary>
        /// <param name="request">This ICaesarRequest</param>
        /// <param name="content">Contents of the request body.</param>
        /// <param name="cancellationToken">The token to monitor for cancellation requests.</param>
        /// <param name="completionOption">The HttpCompletionOption used in the request. Optional.</param>
        /// <returns>A Task whose result is the received ICaesarResponse.</returns>
        public static Task<ICaesarResponse> PutAsync(this ICaesarRequest request, HttpContent content = null, CancellationToken cancellationToken = default(CancellationToken), HttpCompletionOption completionOption = HttpCompletionOption.ResponseContentRead)
        {
            request.Content = content;
            return request.SendAsync(HttpMethod.Put, cancellationToken: cancellationToken, completionOption: completionOption);
        }

        /// <summary>
        /// Sends an asynchronous PUT request.
        /// </summary>
        /// <param name="request">This ICaesarRequest</param>
        /// <param name="data">An object representing the request body, which will be serialized to JSON.</param>
        /// <param name="cancellationToken">The token to monitor for cancellation requests.</param>
        /// <param name="completionOption">The HttpCompletionOption used in the request. Optional.</param>
        /// <returns>A Task whose result is the received ICaesarResponse.</returns>
        public static Task<ICaesarResponse> PutJsonAsync(this ICaesarRequest request, object data, CancellationToken cancellationToken = default(CancellationToken), HttpCompletionOption completionOption = HttpCompletionOption.ResponseContentRead)
        {
            request.Content = new CapturedJsonContent(request.Settings.JsonSerializer.Serialize(data));
            return request.SendAsync(HttpMethod.Put, cancellationToken: cancellationToken, completionOption: completionOption);
        }

        /// <summary>
        /// Sends an asynchronous PUT request.
        /// </summary>
        /// <param name="request">This ICaesarRequest</param>
        /// <param name="data">Contents of the request body.</param>
        /// <param name="cancellationToken">The token to monitor for cancellation requests.</param>
        /// <param name="completionOption">The HttpCompletionOption used in the request. Optional.</param>
        /// <returns>A Task whose result is the received ICaesarResponse.</returns>
        public static Task<ICaesarResponse> PutStringAsync(this ICaesarRequest request, string data, CancellationToken cancellationToken = default(CancellationToken), HttpCompletionOption completionOption = HttpCompletionOption.ResponseContentRead)
        {
            request.Content = new CapturedStringContent(data);
            return request.SendAsync(HttpMethod.Put, cancellationToken: cancellationToken, completionOption: completionOption);
        }

        /// <summary>
        /// Sends an asynchronous DELETE request.
        /// </summary>
        /// <param name="request">This ICaesarRequest</param>
        /// <param name="cancellationToken">The token to monitor for cancellation requests.</param>
        /// <param name="completionOption">The HttpCompletionOption used in the request. Optional.</param>
        /// <returns>A Task whose result is the received ICaesarResponse.</returns>
        public static Task<ICaesarResponse> DeleteAsync(this ICaesarRequest request, CancellationToken cancellationToken = default(CancellationToken), HttpCompletionOption completionOption = HttpCompletionOption.ResponseContentRead)
        {
            return request.SendAsync(HttpMethod.Delete, cancellationToken: cancellationToken, completionOption: completionOption);
        }

        /// <summary>
        /// Sends an asynchronous PATCH request.
        /// </summary>
        /// <param name="request">This ICaesarRequest</param>
        /// <param name="content">Contents of the request body.</param>
        /// <param name="cancellationToken">The token to monitor for cancellation requests.</param>
        /// <param name="completionOption">The HttpCompletionOption used in the request. Optional.</param>
        /// <returns>A Task whose result is the received ICaesarResponse.</returns>
        public static Task<ICaesarResponse> PatchAsync(this ICaesarRequest request, HttpContent content = null, CancellationToken cancellationToken = default(CancellationToken), HttpCompletionOption completionOption = HttpCompletionOption.ResponseContentRead)
        {
            request.Content = content;
            return request.SendAsync(new HttpMethod("PATCH"), cancellationToken: cancellationToken, completionOption: completionOption);
        }

        /// <summary>
        /// Sends an asynchronous PATCH request.
        /// </summary>
        /// <param name="request">This ICaesarRequest</param>
        /// <param name="data">An object representing the request body, which will be serialized to JSON.</param>
        /// <param name="cancellationToken">The token to monitor for cancellation requests.</param>
        /// <param name="completionOption">The HttpCompletionOption used in the request. Optional.</param>
        /// <returns>A Task whose result is the received ICaesarResponse.</returns>
        public static Task<ICaesarResponse> PatchJsonAsync(this ICaesarRequest request, object data, CancellationToken cancellationToken = default(CancellationToken), HttpCompletionOption completionOption = HttpCompletionOption.ResponseContentRead)
        {
            request.Content = new CapturedJsonContent(request.Settings.JsonSerializer.Serialize(data));
            return request.SendAsync(new HttpMethod("PATCH"), cancellationToken: cancellationToken, completionOption: completionOption);
        }

        /// <summary>
        /// Sends an asynchronous PATCH request.
        /// </summary>
        /// <param name="request">This ICaesarRequest</param>
        /// <param name="data">Contents of the request body.</param>
        /// <param name="cancellationToken">The token to monitor for cancellation requests.</param>
        /// <param name="completionOption">The HttpCompletionOption used in the request. Optional.</param>
        /// <returns>A Task whose result is the received ICaesarResponse.</returns>
        public static Task<ICaesarResponse> PatchStringAsync(this ICaesarRequest request, string data, CancellationToken cancellationToken = default(CancellationToken), HttpCompletionOption completionOption = HttpCompletionOption.ResponseContentRead)
        {
            request.Content = new CapturedStringContent(data);
            return request.SendAsync(new HttpMethod("PATCH"), cancellationToken: cancellationToken, completionOption: completionOption);
        }

        /// <summary>
        /// Sends an asynchronous OPTIONS request.
        /// </summary>
        /// <param name="request">This ICaesarRequest</param>
        /// <param name="cancellationToken">The token to monitor for cancellation requests.</param>
        /// <param name="completionOption">The HttpCompletionOption used in the request. Optional.</param>
        /// <returns>A Task whose result is the received ICaesarResponse.</returns>
        public static Task<ICaesarResponse> OptionsAsync(this ICaesarRequest request, CancellationToken cancellationToken = default(CancellationToken), HttpCompletionOption completionOption = HttpCompletionOption.ResponseContentRead)
        {
            return request.SendAsync(HttpMethod.Options, cancellationToken: cancellationToken, completionOption: completionOption);
        }

        /// <summary>
        /// Creates a CaesarRequest and sends an asynchronous request.
        /// </summary>
        /// <param name="url">This Caesar.Url.</param>
        /// <param name="verb">The HTTP verb used to make the request.</param>
        /// <param name="content">Contents of the request body.</param>
        /// <param name="cancellationToken">The token to monitor for cancellation requests.</param>
        /// <param name="completionOption">The HttpCompletionOption used in the request. Optional.</param>
        /// <returns>A Task whose result is the received ICaesarResponse.</returns>
        public static Task<ICaesarResponse> SendAsync(this Url url, HttpMethod verb, HttpContent content = null, CancellationToken cancellationToken = default(CancellationToken), HttpCompletionOption completionOption = HttpCompletionOption.ResponseContentRead)
        {
            var request = new CaesarRequest(url) { Content = content };
            return request.SendAsync(verb, cancellationToken, completionOption);
        }

        /// <summary>
        /// Creates a CaesarRequest and sends an asynchronous request.
        /// </summary>
        /// <param name="url">This Caesar.Url.</param>
        /// <param name="verb">The HTTP verb used to make the request.</param>
        /// <param name="data">An object representing the request body, which will be serialized to JSON.</param>
        /// <param name="cancellationToken">The token to monitor for cancellation requests.</param>
        /// <param name="completionOption">The HttpCompletionOption used in the request. Optional.</param>
        /// <returns>A Task whose result is the received ICaesarResponse.</returns>
        public static Task<ICaesarResponse> SendJsonAsync(this Url url, HttpMethod verb, object data, CancellationToken cancellationToken = default(CancellationToken), HttpCompletionOption completionOption = HttpCompletionOption.ResponseContentRead)
        {
            return new CaesarRequest(url).SendJsonAsync(verb, data, cancellationToken, completionOption);
        }

        /// <summary>
        /// Creates a CaesarRequest and sends an asynchronous request.
        /// </summary>
        /// <param name="url">This Caesar.Url.</param>
        /// <param name="verb">The HTTP verb used to make the request.</param>
        /// <param name="data">Contents of the request body.</param>
        /// <param name="cancellationToken">The token to monitor for cancellation requests.</param>
        /// <param name="completionOption">The HttpCompletionOption used in the request. Optional.</param>
        /// <returns>A Task whose result is the received ICaesarResponse.</returns>
        public static Task<ICaesarResponse> SendStringAsync(this Url url, HttpMethod verb, string data, CancellationToken cancellationToken = default(CancellationToken), HttpCompletionOption completionOption = HttpCompletionOption.ResponseContentRead)
        {
            return new CaesarRequest(url).SendStringAsync(verb, data, cancellationToken, completionOption);
        }

        /// <summary>
        /// Creates a CaesarRequest and sends an asynchronous request.
        /// </summary>
        /// <param name="url">This Caesar.Url.</param>
        /// <param name="verb">The HTTP verb used to make the request.</param>
        /// <param name="data">Contents of the request body.</param>
        /// <param name="cancellationToken">The token to monitor for cancellation requests.</param>
        /// <param name="completionOption">The HttpCompletionOption used in the request. Optional.</param>
        /// <returns>A Task whose result is the received ICaesarResponse.</returns>
        public static Task<ICaesarResponse> SendUrlEncodedAsync(this Url url, HttpMethod verb, object data, CancellationToken cancellationToken = default(CancellationToken), HttpCompletionOption completionOption = HttpCompletionOption.ResponseContentRead)
        {
            return new CaesarRequest(url).SendUrlEncodedAsync(verb, data, cancellationToken, completionOption);
        }

        /// <summary>
        /// Creates a CaesarRequest and sends an asynchronous GET request.
        /// </summary>
        /// <param name="url">This Caesar.Url.</param>
        /// <param name="cancellationToken">The token to monitor for cancellation requests.</param>
        /// <param name="completionOption">The HttpCompletionOption used in the request. Optional.</param>
        /// <returns>A Task whose result is the received ICaesarResponse.</returns>
        public static Task<ICaesarResponse> GetAsync(this Url url, CancellationToken cancellationToken = default(CancellationToken), HttpCompletionOption completionOption = HttpCompletionOption.ResponseContentRead)
        {
            return new CaesarRequest(url).GetAsync(cancellationToken, completionOption);
        }

        /// <summary>
        /// Creates a CaesarRequest and sends an asynchronous GET request.
        /// </summary>
        /// <param name="url">This Caesar.Url.</param>
        /// <param name="cancellationToken">The token to monitor for cancellation requests.</param>
        /// <param name="completionOption">The HttpCompletionOption used in the request. Optional.</param>
        /// <returns>A Task whose result is the JSON response body deserialized to an object of type T.</returns>
        public static Task<T> GetJsonAsync<T>(this Url url, CancellationToken cancellationToken = default(CancellationToken), HttpCompletionOption completionOption = HttpCompletionOption.ResponseContentRead)
        {
            return new CaesarRequest(url).GetJsonAsync<T>(cancellationToken, completionOption);
        }

        /// <summary>
        /// Creates a CaesarRequest and sends an asynchronous GET request.
        /// </summary>
        /// <param name="url">This Caesar.Url.</param>
        /// <param name="cancellationToken">The token to monitor for cancellation requests.</param>
        /// <param name="completionOption">The HttpCompletionOption used in the request. Optional.</param>
        /// <returns>A Task whose result is the JSON response body deserialized to a dynamic.</returns>
        public static Task<dynamic> GetJsonAsync(this Url url, CancellationToken cancellationToken = default(CancellationToken), HttpCompletionOption completionOption = HttpCompletionOption.ResponseContentRead)
        {
            return new CaesarRequest(url).GetJsonAsync(cancellationToken, completionOption);
        }

        /// <summary>
        /// Creates a CaesarRequest and sends an asynchronous GET request.
        /// </summary>
        /// <param name="url">This Caesar.Url.</param>
        /// <param name="cancellationToken">The token to monitor for cancellation requests.</param>
        /// <param name="completionOption">The HttpCompletionOption used in the request. Optional.</param>
        /// <returns>A Task whose result is the JSON response body deserialized to a list of dynamics.</returns>
        public static Task<IList<dynamic>> GetJsonListAsync(this Url url, CancellationToken cancellationToken = default(CancellationToken), HttpCompletionOption completionOption = HttpCompletionOption.ResponseContentRead)
        {
            return new CaesarRequest(url).GetJsonListAsync(cancellationToken, completionOption);
        }

        /// <summary>
        /// Creates a CaesarRequest and sends an asynchronous GET request.
        /// </summary>
        /// <param name="url">This Caesar.Url.</param>
        /// <param name="cancellationToken">The token to monitor for cancellation requests.</param>
        /// <param name="completionOption">The HttpCompletionOption used in the request. Optional.</param>
        /// <returns>A Task whose result is the response body as a string.</returns>
        public static Task<string> GetStringAsync(this Url url, CancellationToken cancellationToken = default(CancellationToken), HttpCompletionOption completionOption = HttpCompletionOption.ResponseContentRead)
        {
            return new CaesarRequest(url).GetStringAsync(cancellationToken, completionOption);
        }

        /// <summary>
        /// Creates a CaesarRequest and sends an asynchronous GET request.
        /// </summary>
        /// <param name="url">This Caesar.Url.</param>
        /// <param name="cancellationToken">The token to monitor for cancellation requests.</param>
        /// <param name="completionOption">The HttpCompletionOption used in the request. Optional.</param>
        /// <returns>A Task whose result is the response body as a Stream.</returns>
        public static Task<Stream> GetStreamAsync(this Url url, CancellationToken cancellationToken = default(CancellationToken), HttpCompletionOption completionOption = HttpCompletionOption.ResponseContentRead)
        {
            return new CaesarRequest(url).GetStreamAsync(cancellationToken, completionOption);
        }

        /// <summary>
        /// Creates a CaesarRequest and sends an asynchronous GET request.
        /// </summary>
        /// <param name="url">This Caesar.Url.</param>
        /// <param name="cancellationToken">The token to monitor for cancellation requests.</param>
        /// <param name="completionOption">The HttpCompletionOption used in the request. Optional.</param>
        /// <returns>A Task whose result is the response body as a byte array.</returns>
        public static Task<byte[]> GetBytesAsync(this Url url, CancellationToken cancellationToken = default(CancellationToken), HttpCompletionOption completionOption = HttpCompletionOption.ResponseContentRead)
        {
            return new CaesarRequest(url).GetBytesAsync(cancellationToken, completionOption);
        }

        /// <summary>
        /// Creates a CaesarRequest and sends an asynchronous POST request.
        /// </summary>
        /// <param name="url">This Caesar.Url.</param>
        /// <param name="content">Contents of the request body.</param>
        /// <param name="cancellationToken">The token to monitor for cancellation requests.</param>
        /// <param name="completionOption">The HttpCompletionOption used in the request. Optional.</param>
        /// <returns>A Task whose result is the received ICaesarResponse.</returns>
        public static Task<ICaesarResponse> PostAsync(this Url url, HttpContent content = null, CancellationToken cancellationToken = default(CancellationToken), HttpCompletionOption completionOption = HttpCompletionOption.ResponseContentRead)
        {
            return new CaesarRequest(url).PostAsync(content, cancellationToken, completionOption);
        }

        /// <summary>
        /// Creates a CaesarRequest and sends an asynchronous POST request.
        /// </summary>
        /// <param name="url">This Caesar.Url.</param>
        /// <param name="data">An object representing the request body, which will be serialized to JSON.</param>
        /// <param name="cancellationToken">The token to monitor for cancellation requests.</param>
        /// <param name="completionOption">The HttpCompletionOption used in the request. Optional.</param>
        /// <returns>A Task whose result is the received ICaesarResponse.</returns>
        public static Task<ICaesarResponse> PostJsonAsync(this Url url, object data, CancellationToken cancellationToken = default(CancellationToken), HttpCompletionOption completionOption = HttpCompletionOption.ResponseContentRead)
        {
            return new CaesarRequest(url).PostJsonAsync(data, cancellationToken, completionOption);
        }

        public static Task<ICaesarResponse> PostOctetAsync(this Url url, byte[] data, CancellationToken cancellationToken = default(CancellationToken), HttpCompletionOption completionOption = HttpCompletionOption.ResponseContentRead)
        {
            return new CaesarRequest(url).PostOctetAsync(data, cancellationToken, completionOption);
        }

        /// <summary>
        /// Creates a CaesarRequest and sends an asynchronous POST request.
        /// </summary>
        /// <param name="url">This Caesar.Url.</param>
        /// <param name="data">Contents of the request body.</param>
        /// <param name="cancellationToken">The token to monitor for cancellation requests.</param>
        /// <param name="completionOption">The HttpCompletionOption used in the request. Optional.</param>
        /// <returns>A Task whose result is the received ICaesarResponse.</returns>
        public static Task<ICaesarResponse> PostStringAsync(this Url url, string data, CancellationToken cancellationToken = default(CancellationToken), HttpCompletionOption completionOption = HttpCompletionOption.ResponseContentRead)
        {
            return new CaesarRequest(url).PostStringAsync(data, cancellationToken, completionOption);
        }

        /// <summary>
        /// Creates a CaesarRequest and sends an asynchronous POST request.
        /// </summary>
        /// <param name="url">This Caesar.Url.</param>
        /// <param name="data">Contents of the request body.</param>
        /// <param name="cancellationToken">The token to monitor for cancellation requests.</param>
        /// <param name="completionOption">The HttpCompletionOption used in the request. Optional.</param>
        /// <returns>A Task whose result is the received ICaesarResponse.</returns>
        public static Task<ICaesarResponse> PostUrlEncodedAsync(this Url url, object data, CancellationToken cancellationToken = default(CancellationToken), HttpCompletionOption completionOption = HttpCompletionOption.ResponseContentRead)
        {
            return new CaesarRequest(url).PostUrlEncodedAsync(data, cancellationToken, completionOption);
        }

        /// <summary>
        /// Creates a CaesarRequest and sends an asynchronous HEAD request.
        /// </summary>
        /// <param name="url">This Caesar.Url.</param>
        /// <param name="cancellationToken">The token to monitor for cancellation requests.</param>
        /// <param name="completionOption">The HttpCompletionOption used in the request. Optional.</param>
        /// <returns>A Task whose result is the received ICaesarResponse.</returns>
        public static Task<ICaesarResponse> HeadAsync(this Url url, CancellationToken cancellationToken = default(CancellationToken), HttpCompletionOption completionOption = HttpCompletionOption.ResponseContentRead)
        {
            return new CaesarRequest(url).HeadAsync(cancellationToken, completionOption);
        }

        /// <summary>
        /// Creates a CaesarRequest and sends an asynchronous PUT request.
        /// </summary>
        /// <param name="url">This Caesar.Url.</param>
        /// <param name="content">Contents of the request body.</param>
        /// <param name="cancellationToken">The token to monitor for cancellation requests.</param>
        /// <param name="completionOption">The HttpCompletionOption used in the request. Optional.</param>
        /// <returns>A Task whose result is the received ICaesarResponse.</returns>
        public static Task<ICaesarResponse> PutAsync(this Url url, HttpContent content = null, CancellationToken cancellationToken = default(CancellationToken), HttpCompletionOption completionOption = HttpCompletionOption.ResponseContentRead)
        {
            return new CaesarRequest(url).PutAsync(content, cancellationToken, completionOption);
        }

        /// <summary>
        /// Creates a CaesarRequest and sends an asynchronous PUT request.
        /// </summary>
        /// <param name="url">This Caesar.Url.</param>
        /// <param name="data">An object representing the request body, which will be serialized to JSON.</param>
        /// <param name="cancellationToken">The token to monitor for cancellation requests.</param>
        /// <param name="completionOption">The HttpCompletionOption used in the request. Optional.</param>
        /// <returns>A Task whose result is the received ICaesarResponse.</returns>
        public static Task<ICaesarResponse> PutJsonAsync(this Url url, object data, CancellationToken cancellationToken = default(CancellationToken), HttpCompletionOption completionOption = HttpCompletionOption.ResponseContentRead)
        {
            return new CaesarRequest(url).PutJsonAsync(data, cancellationToken, completionOption);
        }

        /// <summary>
        /// Creates a CaesarRequest and sends an asynchronous PUT request.
        /// </summary>
        /// <param name="url">This Caesar.Url.</param>
        /// <param name="data">Contents of the request body.</param>
        /// <param name="cancellationToken">The token to monitor for cancellation requests.</param>
        /// <param name="completionOption">The HttpCompletionOption used in the request. Optional.</param>
        /// <returns>A Task whose result is the received ICaesarResponse.</returns>
        public static Task<ICaesarResponse> PutStringAsync(this Url url, string data, CancellationToken cancellationToken = default(CancellationToken), HttpCompletionOption completionOption = HttpCompletionOption.ResponseContentRead)
        {
            return new CaesarRequest(url).PutStringAsync(data, cancellationToken, completionOption);
        }

        /// <summary>
        /// Creates a CaesarRequest and sends an asynchronous DELETE request.
        /// </summary>
        /// <param name="url">This Caesar.Url.</param>
        /// <param name="cancellationToken">The token to monitor for cancellation requests.</param>
        /// <param name="completionOption">The HttpCompletionOption used in the request. Optional.</param>
        /// <returns>A Task whose result is the received ICaesarResponse.</returns>
        public static Task<ICaesarResponse> DeleteAsync(this Url url, CancellationToken cancellationToken = default(CancellationToken), HttpCompletionOption completionOption = HttpCompletionOption.ResponseContentRead)
        {
            return new CaesarRequest(url).DeleteAsync(cancellationToken, completionOption);
        }

        /// <summary>
        /// Creates a CaesarRequest and sends an asynchronous PATCH request.
        /// </summary>
        /// <param name="url">This Caesar.Url.</param>
        /// <param name="content">Contents of the request body.</param>
        /// <param name="cancellationToken">The token to monitor for cancellation requests.</param>
        /// <param name="completionOption">The HttpCompletionOption used in the request. Optional.</param>
        /// <returns>A Task whose result is the received ICaesarResponse.</returns>
        public static Task<ICaesarResponse> PatchAsync(this Url url, HttpContent content = null, CancellationToken cancellationToken = default(CancellationToken), HttpCompletionOption completionOption = HttpCompletionOption.ResponseContentRead)
        {
            return new CaesarRequest(url).PatchAsync(content, cancellationToken, completionOption);
        }

        /// <summary>
        /// Creates a CaesarRequest and sends an asynchronous PATCH request.
        /// </summary>
        /// <param name="url">This Caesar.Url.</param>
        /// <param name="data">An object representing the request body, which will be serialized to JSON.</param>
        /// <param name="cancellationToken">The token to monitor for cancellation requests.</param>
        /// <param name="completionOption">The HttpCompletionOption used in the request. Optional.</param>
        /// <returns>A Task whose result is the received ICaesarResponse.</returns>
        public static Task<ICaesarResponse> PatchJsonAsync(this Url url, object data, CancellationToken cancellationToken = default(CancellationToken), HttpCompletionOption completionOption = HttpCompletionOption.ResponseContentRead)
        {
            return new CaesarRequest(url).PatchJsonAsync(data, cancellationToken, completionOption);
        }

        /// <summary>
        /// Creates a CaesarRequest and sends an asynchronous PATCH request.
        /// </summary>
        /// <param name="url">This Caesar.Url.</param>
        /// <param name="data">Contents of the request body.</param>
        /// <param name="cancellationToken">The token to monitor for cancellation requests.</param>
        /// <param name="completionOption">The HttpCompletionOption used in the request. Optional.</param>
        /// <returns>A Task whose result is the received ICaesarResponse.</returns>
        public static Task<ICaesarResponse> PatchStringAsync(this Url url, string data, CancellationToken cancellationToken = default(CancellationToken), HttpCompletionOption completionOption = HttpCompletionOption.ResponseContentRead)
        {
            return new CaesarRequest(url).PatchStringAsync(data, cancellationToken, completionOption);
        }

        /// <summary>
        /// Creates a CaesarRequest and sends an asynchronous OPTIONS request.
        /// </summary>
        /// <param name="url">This Caesar.Url.</param>
        /// <param name="cancellationToken">The token to monitor for cancellation requests.</param>
        /// <param name="completionOption">The HttpCompletionOption used in the request. Optional.</param>
        /// <returns>A Task whose result is the received ICaesarResponse.</returns>
        public static Task<ICaesarResponse> OptionsAsync(this Url url, CancellationToken cancellationToken = default(CancellationToken), HttpCompletionOption completionOption = HttpCompletionOption.ResponseContentRead)
        {
            return new CaesarRequest(url).OptionsAsync(cancellationToken, completionOption);
        }

        /// <summary>
        /// Creates a new CaesarRequest and sets a request header.
        /// </summary>
        /// <param name="url">This Caesar.Url.</param>
        /// <param name="name">The header name.</param>
        /// <param name="value">The header value.</param>
        /// <returns>A new ICaesarRequest.</returns>
        public static ICaesarRequest WithHeader(this Url url, string name, object value)
        {
            return new CaesarRequest(url).WithHeader(name, value);
        }

        /// <summary>
        /// Creates a new CaesarRequest and sets request headers based on property names/values of the provided object, or keys/values if object is a dictionary, to be sent.
        /// </summary>
        /// <param name="url">This Caesar.Url.</param>
        /// <param name="headers">Names/values of HTTP headers to set. Typically an anonymous object or IDictionary.</param>
        /// <param name="replaceUnderscoreWithHyphen">If true, underscores in property names will be replaced by hyphens. Default is true.</param>
        /// <returns>A new ICaesarRequest.</returns>
        public static ICaesarRequest WithHeaders(this Url url, object headers, bool replaceUnderscoreWithHyphen = true)
        {
            return new CaesarRequest(url).WithHeaders(headers, replaceUnderscoreWithHyphen);
        }

        /// <summary>
        /// Creates a new CaesarRequest and sets the Authorization header according to Basic Authentication protocol.
        /// </summary>
        /// <param name="url">This Caesar.Url.</param>
        /// <param name="username">Username of authenticating user.</param>
        /// <param name="password">Password of authenticating user.</param>
        /// <returns>A new ICaesarRequest.</returns>
        public static ICaesarRequest WithBasicAuth(this Url url, string username, string password)
        {
            return new CaesarRequest(url).WithBasicAuth(username, password);
        }

        /// <summary>
        /// Creates a new CaesarRequest and sets the Authorization header with a bearer token according to OAuth 2.0 specification.
        /// </summary>
        /// <param name="url">This Caesar.Url.</param>
        /// <param name="token">The acquired oAuth bearer token.</param>
        /// <returns>A new ICaesarRequest.</returns>
        public static ICaesarRequest WithOAuthBearerToken(this Url url, string token)
        {
            return new CaesarRequest(url).WithOAuthBearerToken(token);
        }

        /// <summary>
        /// Creates a new CaesarRequest and adds a name-value pair to its Cookie header. To automatically maintain a cookie "session", consider using a CookieJar or CookieSession instead.
        /// </summary>
        /// <param name="url">This Caesar.Url.</param>
        /// <param name="name">The cookie name.</param>
        /// <param name="value">The cookie value.</param>
        /// <returns>A new ICaesarRequest.</returns>
        public static ICaesarRequest WithCookie(this Url url, string name, object value)
        {
            return new CaesarRequest(url).WithCookie(name, value);
        }

        /// <summary>
        /// Creates a new CaesarRequest and adds name-value pairs to its Cookie header based on property names/values of the provided object, or keys/values if object is a dictionary. To automatically maintain a cookie "session", consider using a CookieJar or CookieSession instead.
        /// </summary>
        /// <param name="url">This Caesar.Url.</param>
        /// <param name="values">Names/values of HTTP cookies to set. Typically an anonymous object or IDictionary.</param>
        /// <returns>A new ICaesarRequest.</returns>
        public static ICaesarRequest WithCookies(this Url url, object values)
        {
            return new CaesarRequest(url).WithCookies(values);
        }

        /// <summary>
        /// Creates a new CaesarRequest and sets the CookieJar associated with this request, which will be updated with any Set-Cookie headers present in the response and is suitable for reuse in subsequent requests.
        /// </summary>
        /// <param name="url">This Caesar.Url.</param>
        /// <param name="cookieJar">The CookieJar.</param>
        /// <returns>A new ICaesarRequest.</returns>
        public static ICaesarRequest WithCookies(this Url url, CookieJar cookieJar)
        {
            return new CaesarRequest(url).WithCookies(cookieJar);
        }

        /// <summary>
        /// Creates a new CaesarRequest and associates it with a new CookieJar, which will be updated with any Set-Cookie headers present in the response and is suitable for reuse in subsequent requests.
        /// </summary>
        /// <param name="url">This Caesar.Url.</param>
        /// <param name="cookieJar">The created CookieJar, which can be reused in subsequent requests.</param>
        /// <returns>A new ICaesarRequest.</returns>
        public static ICaesarRequest WithCookies(this Url url, out CookieJar cookieJar)
        {
            return new CaesarRequest(url).WithCookies(out cookieJar);
        }



        /// <summary>
        /// Creates a new CaesarRequest and allows changing its Settings inline.
        /// </summary>
        /// <param name="url">This Caesar.Url.</param>
        /// <param name="action">A delegate defining the Settings changes.</param>
        /// <returns>A new ICaesarRequest.</returns>
        public static ICaesarRequest ConfigureRequest(this Url url, Action<CaesarHttpSettings> action)
        {
            return new CaesarRequest(url).ConfigureRequest(action);
        }

        /// <summary>
        /// Creates a new CaesarRequest and sets the request timeout.
        /// </summary>
        /// <param name="url">This Caesar.Url.</param>
        /// <param name="timespan">Time to wait before the request times out.</param>
        /// <returns>A new ICaesarRequest.</returns>
        public static ICaesarRequest WithTimeout(this Url url, TimeSpan timespan)
        {
            return new CaesarRequest(url).WithTimeout(timespan);
        }

        /// <summary>
        /// Creates a new CaesarRequest and sets the request timeout.
        /// </summary>
        /// <param name="url">This Caesar.Url.</param>
        /// <param name="seconds">Seconds to wait before the request times out.</param>
        /// <returns>A new ICaesarRequest.</returns>
        public static ICaesarRequest WithTimeout(this Url url, int seconds)
        {
            return new CaesarRequest(url).WithTimeout(seconds);
        }

        /// <summary>
        /// Creates a new CaesarRequest and adds a pattern representing an HTTP status code or range of codes which (in addition to 2xx) will NOT result in a CaesarHttpException being thrown.
        /// </summary>
        /// <param name="url">This Caesar.Url.</param>
        /// <param name="pattern">Examples: "3xx", "100,300,600", "100-299,6xx"</param>
        /// <returns>A new ICaesarRequest.</returns>
        public static ICaesarRequest AllowHttpStatus(this Url url, string pattern)
        {
            return new CaesarRequest(url).AllowHttpStatus(pattern);
        }

        /// <summary>
        /// Creates a new CaesarRequest and adds an HttpStatusCode which (in addition to 2xx) will NOT result in a CaesarHttpException being thrown.
        /// </summary>
        /// <param name="url">This Caesar.Url.</param>
        /// <param name="statusCodes">The HttpStatusCode(s) to allow.</param>
        /// <returns>A new ICaesarRequest.</returns>
        public static ICaesarRequest AllowHttpStatus(this Url url, params HttpStatusCode[] statusCodes)
        {
            return new CaesarRequest(url).AllowHttpStatus(statusCodes);
        }

        /// <summary>
        /// Creates a new CaesarRequest and configures it to allow any returned HTTP status without throwing a CaesarHttpException.
        /// </summary>
        /// <param name="url">This Caesar.Url.</param>
        /// <returns>A new ICaesarRequest.</returns>
        public static ICaesarRequest AllowAnyHttpStatus(this Url url)
        {
            return new CaesarRequest(url).AllowAnyHttpStatus();
        }

        /// <summary>
        /// Creates a new CaesarRequest and configures whether redirects are automatically followed.
        /// </summary>
        /// <param name="url">This Caesar.Url.</param>
        /// <param name="enabled">true if Caesar should automatically send a new request to the redirect URL, false if it should not.</param>
        /// <returns>A new ICaesarRequest.</returns>
        public static ICaesarRequest WithAutoRedirect(this Url url, bool enabled)
        {
            return new CaesarRequest(url).WithAutoRedirect(enabled);
        }



        /// <summary>
        /// Creates a new CaesarRequest and asynchronously downloads a file.
        /// </summary>
        /// <param name="url">This Caesar.Url.</param>
        /// <param name="localFolderPath">Path of local folder where file is to be downloaded.</param>
        /// <param name="localFileName">Name of local file. If not specified, the source filename (last segment of the URL) is used.</param>
        /// <param name="bufferSize">Buffer size in bytes. Default is 4096.</param>
        /// <param name="cancellationToken">The token to monitor for cancellation requests.</param>
        /// <returns>A Task whose result is the local path of the downloaded file.</returns>
        public static Task<string> DownloadFileAsync(this Url url, string localFolderPath, string localFileName = null, int bufferSize = 4096, CancellationToken cancellationToken = default(CancellationToken))
        {
            return new CaesarRequest(url).DownloadFileAsync(localFolderPath, localFileName, bufferSize, cancellationToken);
        }

        /// <summary>
        /// Creates a CaesarRequest and sends an asynchronous multipart/form-data POST request.
        /// </summary>
        /// <param name="url">This Caesar.Url.</param>
        /// <param name="buildContent">A delegate for building the content parts.</param>
        /// <param name="cancellationToken">The token to monitor for cancellation requests.</param>
        /// <returns>A Task whose result is the received ICaesarResponse.</returns>
        public static Task<ICaesarResponse> PostMultipartAsync(this Url url, Action<CapturedMultipartContent> buildContent, CancellationToken cancellationToken = default(CancellationToken))
        {
            return new CaesarRequest(url).PostMultipartAsync(buildContent, cancellationToken);
        }

        /// <summary>
        /// Creates a CaesarRequest and sends an asynchronous request.
        /// </summary>
        /// <param name="url">This URL.</param>
        /// <param name="verb">The HTTP verb used to make the request.</param>
        /// <param name="content">Contents of the request body.</param>
        /// <param name="cancellationToken">The token to monitor for cancellation requests.</param>
        /// <param name="completionOption">The HttpCompletionOption used in the request. Optional.</param>
        /// <returns>A Task whose result is the received ICaesarResponse.</returns>
        public static Task<ICaesarResponse> SendAsync(this string url, HttpMethod verb, HttpContent content = null, CancellationToken cancellationToken = default(CancellationToken), HttpCompletionOption completionOption = HttpCompletionOption.ResponseContentRead)
        {
            var request = new CaesarRequest(url)
            {
                Content = content
            };
            return request.SendAsync(verb, cancellationToken, completionOption);
        }

        /// <summary>
        /// Creates a CaesarRequest and sends an asynchronous request.
        /// </summary>
        /// <param name="url">This URL.</param>
        /// <param name="verb">The HTTP verb used to make the request.</param>
        /// <param name="data">An object representing the request body, which will be serialized to JSON.</param>
        /// <param name="cancellationToken">The token to monitor for cancellation requests.</param>
        /// <param name="completionOption">The HttpCompletionOption used in the request. Optional.</param>
        /// <returns>A Task whose result is the received ICaesarResponse.</returns>
        public static Task<ICaesarResponse> SendJsonAsync(this string url, HttpMethod verb, object data, CancellationToken cancellationToken = default(CancellationToken), HttpCompletionOption completionOption = HttpCompletionOption.ResponseContentRead)
        {
            return new CaesarRequest(url).SendJsonAsync(verb, data, cancellationToken, completionOption);
        }

        /// <summary>
        /// Creates a CaesarRequest and sends an asynchronous request.
        /// </summary>
        /// <param name="url">This URL.</param>
        /// <param name="verb">The HTTP verb used to make the request.</param>
        /// <param name="data">Contents of the request body.</param>
        /// <param name="cancellationToken">The token to monitor for cancellation requests.</param>
        /// <param name="completionOption">The HttpCompletionOption used in the request. Optional.</param>
        /// <returns>A Task whose result is the received ICaesarResponse.</returns>
        public static Task<ICaesarResponse> SendStringAsync(this string url, HttpMethod verb, string data, CancellationToken cancellationToken = default(CancellationToken), HttpCompletionOption completionOption = HttpCompletionOption.ResponseContentRead)
        {
            return new CaesarRequest(url).SendStringAsync(verb, data, cancellationToken, completionOption);
        }

        /// <summary>
        /// Creates a CaesarRequest and sends an asynchronous request.
        /// </summary>
        /// <param name="url">This URL.</param>
        /// <param name="verb">The HTTP verb used to make the request.</param>
        /// <param name="data">Contents of the request body.</param>
        /// <param name="cancellationToken">The token to monitor for cancellation requests.</param>
        /// <param name="completionOption">The HttpCompletionOption used in the request. Optional.</param>
        /// <returns>A Task whose result is the received ICaesarResponse.</returns>
        public static Task<ICaesarResponse> SendUrlEncodedAsync(this string url, HttpMethod verb, object data, CancellationToken cancellationToken = default(CancellationToken), HttpCompletionOption completionOption = HttpCompletionOption.ResponseContentRead)
        {
            return new CaesarRequest(url).SendUrlEncodedAsync(verb, data, cancellationToken, completionOption);
        }

        /// <summary>
        /// Creates a CaesarRequest and sends an asynchronous GET request.
        /// </summary>
        /// <param name="url">This URL.</param>
        /// <param name="cancellationToken">The token to monitor for cancellation requests.</param>
        /// <param name="completionOption">The HttpCompletionOption used in the request. Optional.</param>
        /// <returns>A Task whose result is the received ICaesarResponse.</returns>
        public static Task<ICaesarResponse> GetAsync(this string url, CancellationToken cancellationToken = default(CancellationToken), HttpCompletionOption completionOption = HttpCompletionOption.ResponseContentRead)
        {
            return new CaesarRequest(url).GetAsync(cancellationToken, completionOption);
        }

        /// <summary>
        /// Creates a CaesarRequest and sends an asynchronous GET request.
        /// </summary>
        /// <param name="url">This URL.</param>
        /// <param name="cancellationToken">The token to monitor for cancellation requests.</param>
        /// <param name="completionOption">The HttpCompletionOption used in the request. Optional.</param>
        /// <returns>A Task whose result is the JSON response body deserialized to an object of type T.</returns>
        public static Task<T> GetJsonAsync<T>(this string url, CancellationToken cancellationToken = default(CancellationToken), HttpCompletionOption completionOption = HttpCompletionOption.ResponseContentRead)
        {
            return new CaesarRequest(url).GetJsonAsync<T>(cancellationToken, completionOption);
        }

        /// <summary>
        /// Creates a CaesarRequest and sends an asynchronous GET request.
        /// </summary>
        /// <param name="url">This URL.</param>
        /// <param name="cancellationToken">The token to monitor for cancellation requests.</param>
        /// <param name="completionOption">The HttpCompletionOption used in the request. Optional.</param>
        /// <returns>A Task whose result is the JSON response body deserialized to a dynamic.</returns>
        public static Task<dynamic> GetJsonAsync(this string url, CancellationToken cancellationToken = default(CancellationToken), HttpCompletionOption completionOption = HttpCompletionOption.ResponseContentRead)
        {
            return new CaesarRequest(url).GetJsonAsync(cancellationToken, completionOption);
        }

        /// <summary>
        /// Creates a CaesarRequest and sends an asynchronous GET request.
        /// </summary>
        /// <param name="url">This URL.</param>
        /// <param name="cancellationToken">The token to monitor for cancellation requests.</param>
        /// <param name="completionOption">The HttpCompletionOption used in the request. Optional.</param>
        /// <returns>A Task whose result is the JSON response body deserialized to a list of dynamics.</returns>
        public static Task<IList<dynamic>> GetJsonListAsync(this string url, CancellationToken cancellationToken = default(CancellationToken), HttpCompletionOption completionOption = HttpCompletionOption.ResponseContentRead)
        {
            return new CaesarRequest(url).GetJsonListAsync(cancellationToken, completionOption);
        }

        /// <summary>
        /// Creates a CaesarRequest and sends an asynchronous GET request.
        /// </summary>
        /// <param name="url">This URL.</param>
        /// <param name="cancellationToken">The token to monitor for cancellation requests.</param>
        /// <param name="completionOption">The HttpCompletionOption used in the request. Optional.</param>
        /// <returns>A Task whose result is the response body as a string.</returns>
        public static Task<string> GetStringAsync(this string url, CancellationToken cancellationToken = default(CancellationToken), HttpCompletionOption completionOption = HttpCompletionOption.ResponseContentRead)
        {
            return new CaesarRequest(url).GetStringAsync(cancellationToken, completionOption);
        }

        /// <summary>
        /// Creates a CaesarRequest and sends an asynchronous GET request.
        /// </summary>
        /// <param name="url">This URL.</param>
        /// <param name="cancellationToken">The token to monitor for cancellation requests.</param>
        /// <param name="completionOption">The HttpCompletionOption used in the request. Optional.</param>
        /// <returns>A Task whose result is the response body as a Stream.</returns>
        public static Task<Stream> GetStreamAsync(this string url, CancellationToken cancellationToken = default(CancellationToken), HttpCompletionOption completionOption = HttpCompletionOption.ResponseContentRead)
        {
            return new CaesarRequest(url).GetStreamAsync(cancellationToken, completionOption);
        }

        /// <summary>
        /// Creates a CaesarRequest and sends an asynchronous GET request.
        /// </summary>
        /// <param name="url">This URL.</param>
        /// <param name="cancellationToken">The token to monitor for cancellation requests.</param>
        /// <param name="completionOption">The HttpCompletionOption used in the request. Optional.</param>
        /// <returns>A Task whose result is the response body as a byte array.</returns>
        public static Task<byte[]> GetBytesAsync(this string url, CancellationToken cancellationToken = default(CancellationToken), HttpCompletionOption completionOption = HttpCompletionOption.ResponseContentRead)
        {
            return new CaesarRequest(url).GetBytesAsync(cancellationToken, completionOption);
        }

        /// <summary>
        /// Creates a CaesarRequest and sends an asynchronous POST request.
        /// </summary>
        /// <param name="url">This URL.</param>
        /// <param name="content">Contents of the request body.</param>
        /// <param name="cancellationToken">The token to monitor for cancellation requests.</param>
        /// <param name="completionOption">The HttpCompletionOption used in the request. Optional.</param>
        /// <returns>A Task whose result is the received ICaesarResponse.</returns>
        public static Task<ICaesarResponse> PostAsync(this string url, HttpContent content = null, CancellationToken cancellationToken = default(CancellationToken), HttpCompletionOption completionOption = HttpCompletionOption.ResponseContentRead)
        {
            return new CaesarRequest(url).PostAsync(content, cancellationToken, completionOption);
        }



        /// <summary>
        /// Creates a CaesarRequest and sends an asynchronous POST request.
        /// </summary>
        /// <param name="url">This URL.</param>
        /// <param name="data">An object representing the request body, which will be serialized to JSON.</param>
        /// <param name="cancellationToken">The token to monitor for cancellation requests.</param>
        /// <param name="completionOption">The HttpCompletionOption used in the request. Optional.</param>
        /// <returns>A Task whose result is the received ICaesarResponse.</returns>
        public static Task<ICaesarResponse> PostJsonAsync(this string url, object data, CancellationToken cancellationToken = default(CancellationToken), HttpCompletionOption completionOption = HttpCompletionOption.ResponseContentRead)
        {
            return new CaesarRequest(url).PostJsonAsync(data, cancellationToken, completionOption);
        }

        /// <summary>
        /// Creates a CaesarRequest and sends an asynchronous POST request.
        /// </summary>
        /// <param name="url">This URL.</param>
        /// <param name="data">An object representing the request body, which will be serialized to JSON.</param>
        /// <param name="cancellationToken">The token to monitor for cancellation requests.</param>
        /// <param name="completionOption">The HttpCompletionOption used in the request. Optional.</param>
        /// <returns>A Task whose result is the received ICaesarResponse.</returns>
        public static Task<ICaesarResponse> PostJsonAsync(this string url, string data, CancellationToken cancellationToken = default(CancellationToken), HttpCompletionOption completionOption = HttpCompletionOption.ResponseContentRead)
        {
            return new CaesarRequest(url).PostJsonAsync(data, cancellationToken, completionOption);
        }

        public static Task<ICaesarResponse> PostOctetAsync(this string url, byte[] data, CancellationToken cancellationToken = default(CancellationToken), HttpCompletionOption completionOption = HttpCompletionOption.ResponseContentRead)
        {
            return new CaesarRequest(url).PostOctetAsync(data, cancellationToken, completionOption);
        }

        /// <summary>
        /// Creates a CaesarRequest and sends an asynchronous POST request.
        /// </summary>
        /// <param name="url">This URL.</param>
        /// <param name="data">Contents of the request body.</param>
        /// <param name="cancellationToken">The token to monitor for cancellation requests.</param>
        /// <param name="completionOption">The HttpCompletionOption used in the request. Optional.</param>
        /// <returns>A Task whose result is the received ICaesarResponse.</returns>
        public static Task<ICaesarResponse> PostStringAsync(this string url, string data, CancellationToken cancellationToken = default(CancellationToken), HttpCompletionOption completionOption = HttpCompletionOption.ResponseContentRead)
        {
            return new CaesarRequest(url).PostStringAsync(data, cancellationToken, completionOption);
        }

        /// <summary>
        /// Creates a CaesarRequest and sends an asynchronous POST request.
        /// </summary>
        /// <param name="url">This URL.</param>
        /// <param name="data">Contents of the request body.</param>
        /// <param name="cancellationToken">The token to monitor for cancellation requests.</param>
        /// <param name="completionOption">The HttpCompletionOption used in the request. Optional.</param>
        /// <returns>A Task whose result is the received ICaesarResponse.</returns>
        public static Task<ICaesarResponse> PostUrlEncodedAsync(this string url, object data, CancellationToken cancellationToken = default(CancellationToken), HttpCompletionOption completionOption = HttpCompletionOption.ResponseContentRead)
        {
            return new CaesarRequest(url).PostUrlEncodedAsync(data, cancellationToken, completionOption);
        }


        public static ICaesarRequest WithPostUrlEncoded(this string url, object data)
        {
            var request = new CaesarRequest(url);
            request.Content = new CapturedUrlEncodedContent(request.Settings.UrlEncodedSerializer.Serialize(data));
            return request;
        }

        public static ICaesarRequest WithPostJson(this string url, object data)
        {
            var request = new CaesarRequest(url);
            request.Content = new CapturedJsonContent(request.Settings.JsonSerializer.Serialize(data));
            return request;
        }

        public static ICaesarRequest WithPostJson(this Url url, object data)
        {
            var request = new CaesarRequest(url);
            request.Content = new CapturedJsonContent(request.Settings.JsonSerializer.Serialize(data));
            return request;
        }

        public static ICaesarRequest WithPostJson(this string url, string data)
        {
            var request = new CaesarRequest(url);
            request.Content = new CapturedJsonContent(data);
            return request;
        }

        public static ICaesarRequest WithPostString(this string url, string data)
        {
            var request = new CaesarRequest(url);
            request.Content = new CapturedStringContent(data);
            return request;
        }

        public static ICaesarRequest WithPostData(this string url, HttpContent content)
        {
            var request = new CaesarRequest(url);
            request.Content = content;
            return request;
        }

        public static ICaesarRequest WithPostOctet(this string url, byte[] data)
        {
            var request = new CaesarRequest(url);
            request.Content = new CapturedOctetContent(data); ;
            return request;
        }

        /// <summary>
        /// Creates a CaesarRequest and sends an asynchronous HEAD request.
        /// </summary>
        /// <param name="url">This URL.</param>
        /// <param name="cancellationToken">The token to monitor for cancellation requests.</param>
        /// <param name="completionOption">The HttpCompletionOption used in the request. Optional.</param>
        /// <returns>A Task whose result is the received ICaesarResponse.</returns>
        public static Task<ICaesarResponse> HeadAsync(this string url, CancellationToken cancellationToken = default(CancellationToken), HttpCompletionOption completionOption = HttpCompletionOption.ResponseContentRead)
        {
            return new CaesarRequest(url).HeadAsync(cancellationToken, completionOption);
        }

        /// <summary>
        /// Creates a CaesarRequest and sends an asynchronous PUT request.
        /// </summary>
        /// <param name="url">This URL.</param>
        /// <param name="content">Contents of the request body.</param>
        /// <param name="cancellationToken">The token to monitor for cancellation requests.</param>
        /// <param name="completionOption">The HttpCompletionOption used in the request. Optional.</param>
        /// <returns>A Task whose result is the received ICaesarResponse.</returns>
        public static Task<ICaesarResponse> PutAsync(this string url, HttpContent content = null, CancellationToken cancellationToken = default(CancellationToken), HttpCompletionOption completionOption = HttpCompletionOption.ResponseContentRead)
        {
            return new CaesarRequest(url).PutAsync(content, cancellationToken, completionOption);
        }

        /// <summary>
        /// Creates a CaesarRequest and sends an asynchronous PUT request.
        /// </summary>
        /// <param name="url">This URL.</param>
        /// <param name="data">An object representing the request body, which will be serialized to JSON.</param>
        /// <param name="cancellationToken">The token to monitor for cancellation requests.</param>
        /// <param name="completionOption">The HttpCompletionOption used in the request. Optional.</param>
        /// <returns>A Task whose result is the received ICaesarResponse.</returns>
        public static Task<ICaesarResponse> PutJsonAsync(this string url, object data, CancellationToken cancellationToken = default(CancellationToken), HttpCompletionOption completionOption = HttpCompletionOption.ResponseContentRead)
        {
            return new CaesarRequest(url).PutJsonAsync(data, cancellationToken, completionOption);
        }

        /// <summary>
        /// Creates a CaesarRequest and sends an asynchronous PUT request.
        /// </summary>
        /// <param name="url">This URL.</param>
        /// <param name="data">Contents of the request body.</param>
        /// <param name="cancellationToken">The token to monitor for cancellation requests.</param>
        /// <param name="completionOption">The HttpCompletionOption used in the request. Optional.</param>
        /// <returns>A Task whose result is the received ICaesarResponse.</returns>
        public static Task<ICaesarResponse> PutStringAsync(this string url, string data, CancellationToken cancellationToken = default(CancellationToken), HttpCompletionOption completionOption = HttpCompletionOption.ResponseContentRead)
        {
            return new CaesarRequest(url).PutStringAsync(data, cancellationToken, completionOption);
        }

        /// <summary>
        /// Creates a CaesarRequest and sends an asynchronous DELETE request.
        /// </summary>
        /// <param name="url">This URL.</param>
        /// <param name="cancellationToken">The token to monitor for cancellation requests.</param>
        /// <param name="completionOption">The HttpCompletionOption used in the request. Optional.</param>
        /// <returns>A Task whose result is the received ICaesarResponse.</returns>
        public static Task<ICaesarResponse> DeleteAsync(this string url, CancellationToken cancellationToken = default(CancellationToken), HttpCompletionOption completionOption = HttpCompletionOption.ResponseContentRead)
        {
            return new CaesarRequest(url).DeleteAsync(cancellationToken, completionOption);
        }

        /// <summary>
        /// Creates a CaesarRequest and sends an asynchronous PATCH request.
        /// </summary>
        /// <param name="url">This URL.</param>
        /// <param name="content">Contents of the request body.</param>
        /// <param name="cancellationToken">The token to monitor for cancellation requests.</param>
        /// <param name="completionOption">The HttpCompletionOption used in the request. Optional.</param>
        /// <returns>A Task whose result is the received ICaesarResponse.</returns>
        public static Task<ICaesarResponse> PatchAsync(this string url, HttpContent content = null, CancellationToken cancellationToken = default(CancellationToken), HttpCompletionOption completionOption = HttpCompletionOption.ResponseContentRead)
        {
            return new CaesarRequest(url).PatchAsync(content, cancellationToken, completionOption);
        }

        /// <summary>
        /// Creates a CaesarRequest and sends an asynchronous PATCH request.
        /// </summary>
        /// <param name="url">This URL.</param>
        /// <param name="data">An object representing the request body, which will be serialized to JSON.</param>
        /// <param name="cancellationToken">The token to monitor for cancellation requests.</param>
        /// <param name="completionOption">The HttpCompletionOption used in the request. Optional.</param>
        /// <returns>A Task whose result is the received ICaesarResponse.</returns>
        public static Task<ICaesarResponse> PatchJsonAsync(this string url, object data, CancellationToken cancellationToken = default(CancellationToken), HttpCompletionOption completionOption = HttpCompletionOption.ResponseContentRead)
        {
            return new CaesarRequest(url).PatchJsonAsync(data, cancellationToken, completionOption);
        }

        /// <summary>
        /// Creates a CaesarRequest and sends an asynchronous PATCH request.
        /// </summary>
        /// <param name="url">This URL.</param>
        /// <param name="data">Contents of the request body.</param>
        /// <param name="cancellationToken">The token to monitor for cancellation requests.</param>
        /// <param name="completionOption">The HttpCompletionOption used in the request. Optional.</param>
        /// <returns>A Task whose result is the received ICaesarResponse.</returns>
        public static Task<ICaesarResponse> PatchStringAsync(this string url, string data, CancellationToken cancellationToken = default(CancellationToken), HttpCompletionOption completionOption = HttpCompletionOption.ResponseContentRead)
        {
            return new CaesarRequest(url).PatchStringAsync(data, cancellationToken, completionOption);
        }

        /// <summary>
        /// Creates a CaesarRequest and sends an asynchronous OPTIONS request.
        /// </summary>
        /// <param name="url">This URL.</param>
        /// <param name="cancellationToken">The token to monitor for cancellation requests.</param>
        /// <param name="completionOption">The HttpCompletionOption used in the request. Optional.</param>
        /// <returns>A Task whose result is the received ICaesarResponse.</returns>
        public static Task<ICaesarResponse> OptionsAsync(this string url, CancellationToken cancellationToken = default(CancellationToken), HttpCompletionOption completionOption = HttpCompletionOption.ResponseContentRead)
        {
            return new CaesarRequest(url).OptionsAsync(cancellationToken, completionOption);
        }

        /// <summary>
        /// Creates a new CaesarRequest and sets a request header.
        /// </summary>
        /// <param name="url">This URL.</param>
        /// <param name="name">The header name.</param>
        /// <param name="value">The header value.</param>
        /// <returns>A new ICaesarRequest.</returns>
        public static ICaesarRequest WithHeader(this string url, string name, object value)
        {
            return new CaesarRequest(url).WithHeader(name, value);
        }

        public static ICaesarRequest WithUserAgent(this string url, object value)
        {
            return new CaesarRequest(url).WithUserAgent(value);
        }

        public static ICaesarRequest WithReferer(this string url, string value)
        {
            return new CaesarRequest(url).WithReferer(value);
        }

        /// <summary>
        /// Creates a new CaesarRequest and sets request headers based on property names/values of the provided object, or keys/values if object is a dictionary, to be sent.
        /// </summary>
        /// <param name="url">This URL.</param>
        /// <param name="headers">Names/values of HTTP headers to set. Typically an anonymous object or IDictionary.</param>
        /// <param name="replaceUnderscoreWithHyphen">If true, underscores in property names will be replaced by hyphens. Default is true.</param>
        /// <returns>A new ICaesarRequest.</returns>
        public static ICaesarRequest WithHeaders(this string url, object headers, bool replaceUnderscoreWithHyphen = true)
        {
            return new CaesarRequest(url).WithHeaders(headers, replaceUnderscoreWithHyphen);
        }

        /// <summary>
        /// Creates a new CaesarRequest and sets the Authorization header according to Basic Authentication protocol.
        /// </summary>
        /// <param name="url">This URL.</param>
        /// <param name="username">Username of authenticating user.</param>
        /// <param name="password">Password of authenticating user.</param>
        /// <returns>A new ICaesarRequest.</returns>
        public static ICaesarRequest WithBasicAuth(this string url, string username, string password)
        {
            return new CaesarRequest(url).WithBasicAuth(username, password);
        }

        /// <summary>
        /// Creates a new CaesarRequest and sets the Authorization header with a bearer token according to OAuth 2.0 specification.
        /// </summary>
        /// <param name="url">This URL.</param>
        /// <param name="token">The acquired oAuth bearer token.</param>
        /// <returns>A new ICaesarRequest.</returns>
        public static ICaesarRequest WithOAuthBearerToken(this string url, string token)
        {
            return new CaesarRequest(url).WithOAuthBearerToken(token);
        }

        /// <summary>
        /// Creates a new CaesarRequest and adds a name-value pair to its Cookie header. To automatically maintain a cookie "session", consider using a CookieJar or CookieSession instead.
        /// </summary>
        /// <param name="url">This URL.</param>
        /// <param name="name">The cookie name.</param>
        /// <param name="value">The cookie value.</param>
        /// <returns>A new ICaesarRequest.</returns>
        public static ICaesarRequest WithCookie(this string url, string name, object value)
        {
            return new CaesarRequest(url).WithCookie(name, value);
        }

        /// <summary>
        /// Creates a new CaesarRequest and adds name-value pairs to its Cookie header based on property names/values of the provided object, or keys/values if object is a dictionary. To automatically maintain a cookie "session", consider using a CookieJar or CookieSession instead.
        /// </summary>
        /// <param name="url">This URL.</param>
        /// <param name="values">Names/values of HTTP cookies to set. Typically an anonymous object or IDictionary.</param>
        /// <returns>A new ICaesarRequest.</returns>
        public static ICaesarRequest WithCookies(this string url, object values)
        {
            return new CaesarRequest(url).WithCookies(values);
        }

        /// <summary>
        /// Creates a new CaesarRequest and sets the CookieJar associated with this request, which will be updated with any Set-Cookie headers present in the response and is suitable for reuse in subsequent requests.
        /// </summary>
        /// <param name="url">This URL.</param>
        /// <param name="cookieJar">The CookieJar.</param>
        /// <returns>A new ICaesarRequest.</returns>
        public static ICaesarRequest WithCookies(this string url, CookieJar cookieJar)
        {
            return new CaesarRequest(url).WithCookies(cookieJar);
        }

        /// <summary>
        /// Creates a new CaesarRequest and associates it with a new CookieJar, which will be updated with any Set-Cookie headers present in the response and is suitable for reuse in subsequent requests.
        /// </summary>
        /// <param name="url">This URL.</param>
        /// <param name="cookieJar">The created CookieJar, which can be reused in subsequent requests.</param>
        /// <returns>A new ICaesarRequest.</returns>
        public static ICaesarRequest WithCookies(this string url, out CookieJar cookieJar)
        {
            return new CaesarRequest(url).WithCookies(out cookieJar);
        }



        /// <summary>
        /// Creates a new CaesarRequest and allows changing its Settings inline.
        /// </summary>
        /// <param name="url">This URL.</param>
        /// <param name="action">A delegate defining the Settings changes.</param>
        /// <returns>A new ICaesarRequest.</returns>
        public static ICaesarRequest ConfigureRequest(this string url, Action<CaesarHttpSettings> action)
        {
            return new CaesarRequest(url).ConfigureRequest(action);
        }

        /// <summary>
        /// Creates a new CaesarRequest and sets the request timeout.
        /// </summary>
        /// <param name="url">This URL.</param>
        /// <param name="timespan">Time to wait before the request times out.</param>
        /// <returns>A new ICaesarRequest.</returns>
        public static ICaesarRequest WithTimeout(this string url, TimeSpan timespan)
        {
            return new CaesarRequest(url).WithTimeout(timespan);
        }

        /// <summary>
        /// Creates a new CaesarRequest and sets the request timeout.
        /// </summary>
        /// <param name="url">This URL.</param>
        /// <param name="seconds">Seconds to wait before the request times out.</param>
        /// <returns>A new ICaesarRequest.</returns>
        public static ICaesarRequest WithTimeout(this string url, int seconds)
        {
            return new CaesarRequest(url).WithTimeout(seconds);
        }

        /// <summary>
        /// Creates a new CaesarRequest and adds a pattern representing an HTTP status code or range of codes which (in addition to 2xx) will NOT result in a CaesarHttpException being thrown.
        /// </summary>
        /// <param name="url">This URL.</param>
        /// <param name="pattern">Examples: "3xx", "100,300,600", "100-299,6xx"</param>
        /// <returns>A new ICaesarRequest.</returns>
        public static ICaesarRequest AllowHttpStatus(this string url, string pattern)
        {
            return new CaesarRequest(url).AllowHttpStatus(pattern);
        }

        /// <summary>
        /// Creates a new CaesarRequest and adds an HttpStatusCode which (in addition to 2xx) will NOT result in a CaesarHttpException being thrown.
        /// </summary>
        /// <param name="url">This URL.</param>
        /// <param name="statusCodes">The HttpStatusCode(s) to allow.</param>
        /// <returns>A new ICaesarRequest.</returns>
        public static ICaesarRequest AllowHttpStatus(this string url, params HttpStatusCode[] statusCodes)
        {
            return new CaesarRequest(url).AllowHttpStatus(statusCodes);
        }

        /// <summary>
        /// Creates a new CaesarRequest and configures it to allow any returned HTTP status without throwing a CaesarHttpException.
        /// </summary>
        /// <param name="url">This URL.</param>
        /// <returns>A new ICaesarRequest.</returns>
        public static ICaesarRequest AllowAnyHttpStatus(this string url)
        {
            return new CaesarRequest(url).AllowAnyHttpStatus();
        }

        /// <summary>
        /// Creates a new CaesarRequest and configures whether redirects are automatically followed.
        /// </summary>
        /// <param name="url">This URL.</param>
        /// <param name="enabled">true if Caesar should automatically send a new request to the redirect URL, false if it should not.</param>
        /// <returns>A new ICaesarRequest.</returns>
        public static ICaesarRequest WithAutoRedirect(this string url, bool enabled)
        {
            return new CaesarRequest(url).WithAutoRedirect(enabled);
        }



        public static ICaesarRequest WithProxy(this string url, WebProxy proxy)
        {
            return new CaesarRequest(url).WithProxy(proxy);
        }
        public static ICaesarRequest WithProxy(this string url, string proxyIp)
        {
            return new CaesarRequest(url).WithProxy(proxyIp);
        }
        public static ICaesarRequest WithProxy(this string url, Func<string> func)
        {
            return new CaesarRequest(url).WithProxy(func?.Invoke());
        }
        public static ICaesarRequest WithProxy(this string url, Func<ProxyInfo> func)
        {
            return new CaesarRequest(url).WithProxy(func?.Invoke()?.ProxyIp);
        }
        public static ICaesarRequest WithProxy(this Url url, Func<ProxyInfo> func)
        {
            return new CaesarRequest(url).WithProxy(func?.Invoke()?.ProxyIp);
        }
        /// <summary>
        /// Creates a new CaesarRequest and asynchronously downloads a file.
        /// </summary>
        /// <param name="url">This URL.</param>
        /// <param name="localFolderPath">Path of local folder where file is to be downloaded.</param>
        /// <param name="localFileName">Name of local file. If not specified, the source filename (last segment of the URL) is used.</param>
        /// <param name="bufferSize">Buffer size in bytes. Default is 4096.</param>
        /// <param name="cancellationToken">The token to monitor for cancellation requests.</param>
        /// <returns>A Task whose result is the local path of the downloaded file.</returns>
        public static Task<string> DownloadFileAsync(this string url, string localFolderPath, string localFileName = null, int bufferSize = 4096, CancellationToken cancellationToken = default(CancellationToken))
        {
            return new CaesarRequest(url).DownloadFileAsync(localFolderPath, localFileName, bufferSize, cancellationToken);
        }

        /// <summary>
        /// Creates a CaesarRequest and sends an asynchronous multipart/form-data POST request.
        /// </summary>
        /// <param name="url">This URL.</param>
        /// <param name="buildContent">A delegate for building the content parts.</param>
        /// <param name="cancellationToken">The token to monitor for cancellation requests.</param>
        /// <returns>A Task whose result is the received ICaesarResponse.</returns>
        public static Task<ICaesarResponse> PostMultipartAsync(this string url, Action<CapturedMultipartContent> buildContent, CancellationToken cancellationToken = default(CancellationToken))
        {
            return new CaesarRequest(url).PostMultipartAsync(buildContent, cancellationToken);
        }

        /// <summary>
        /// Creates a CaesarRequest and sends an asynchronous request.
        /// </summary>
        /// <param name="uri">This System.Uri.</param>
        /// <param name="verb">The HTTP verb used to make the request.</param>
        /// <param name="content">Contents of the request body.</param>
        /// <param name="cancellationToken">The token to monitor for cancellation requests.</param>
        /// <param name="completionOption">The HttpCompletionOption used in the request. Optional.</param>
        /// <returns>A Task whose result is the received ICaesarResponse.</returns>
        public static Task<ICaesarResponse> SendAsync(this Uri uri, HttpMethod verb, HttpContent content = null, CancellationToken cancellationToken = default(CancellationToken), HttpCompletionOption completionOption = HttpCompletionOption.ResponseContentRead)
        {
            var request = new CaesarRequest(uri)
            {
                Content = content
            };
            return request.SendAsync(verb, cancellationToken, completionOption);
        }

        /// <summary>
        /// Creates a CaesarRequest and sends an asynchronous request.
        /// </summary>
        /// <param name="uri">This System.Uri.</param>
        /// <param name="verb">The HTTP verb used to make the request.</param>
        /// <param name="data">An object representing the request body, which will be serialized to JSON.</param>
        /// <param name="cancellationToken">The token to monitor for cancellation requests.</param>
        /// <param name="completionOption">The HttpCompletionOption used in the request. Optional.</param>
        /// <returns>A Task whose result is the received ICaesarResponse.</returns>
        public static Task<ICaesarResponse> SendJsonAsync(this Uri uri, HttpMethod verb, object data, CancellationToken cancellationToken = default(CancellationToken), HttpCompletionOption completionOption = HttpCompletionOption.ResponseContentRead)
        {
            return new CaesarRequest(uri).SendJsonAsync(verb, data, cancellationToken, completionOption);
        }

        /// <summary>
        /// Creates a CaesarRequest and sends an asynchronous request.
        /// </summary>
        /// <param name="uri">This System.Uri.</param>
        /// <param name="verb">The HTTP verb used to make the request.</param>
        /// <param name="data">Contents of the request body.</param>
        /// <param name="cancellationToken">The token to monitor for cancellation requests.</param>
        /// <param name="completionOption">The HttpCompletionOption used in the request. Optional.</param>
        /// <returns>A Task whose result is the received ICaesarResponse.</returns>
        public static Task<ICaesarResponse> SendStringAsync(this Uri uri, HttpMethod verb, string data, CancellationToken cancellationToken = default(CancellationToken), HttpCompletionOption completionOption = HttpCompletionOption.ResponseContentRead)
        {
            return new CaesarRequest(uri).SendStringAsync(verb, data, cancellationToken, completionOption);
        }

        /// <summary>
        /// Creates a CaesarRequest and sends an asynchronous request.
        /// </summary>
        /// <param name="uri">This System.Uri.</param>
        /// <param name="verb">The HTTP verb used to make the request.</param>
        /// <param name="data">Contents of the request body.</param>
        /// <param name="cancellationToken">The token to monitor for cancellation requests.</param>
        /// <param name="completionOption">The HttpCompletionOption used in the request. Optional.</param>
        /// <returns>A Task whose result is the received ICaesarResponse.</returns>
        public static Task<ICaesarResponse> SendUrlEncodedAsync(this Uri uri, HttpMethod verb, object data, CancellationToken cancellationToken = default(CancellationToken), HttpCompletionOption completionOption = HttpCompletionOption.ResponseContentRead)
        {
            return new CaesarRequest(uri).SendUrlEncodedAsync(verb, data, cancellationToken, completionOption);
        }

        /// <summary>
        /// Creates a CaesarRequest and sends an asynchronous GET request.
        /// </summary>
        /// <param name="uri">This System.Uri.</param>
        /// <param name="cancellationToken">The token to monitor for cancellation requests.</param>
        /// <param name="completionOption">The HttpCompletionOption used in the request. Optional.</param>
        /// <returns>A Task whose result is the received ICaesarResponse.</returns>
        public static Task<ICaesarResponse> GetAsync(this Uri uri, CancellationToken cancellationToken = default(CancellationToken), HttpCompletionOption completionOption = HttpCompletionOption.ResponseContentRead)
        {
            return new CaesarRequest(uri).GetAsync(cancellationToken, completionOption);
        }

        /// <summary>
        /// Creates a CaesarRequest and sends an asynchronous GET request.
        /// </summary>
        /// <param name="uri">This System.Uri.</param>
        /// <param name="cancellationToken">The token to monitor for cancellation requests.</param>
        /// <param name="completionOption">The HttpCompletionOption used in the request. Optional.</param>
        /// <returns>A Task whose result is the JSON response body deserialized to an object of type T.</returns>
        public static Task<T> GetJsonAsync<T>(this Uri uri, CancellationToken cancellationToken = default(CancellationToken), HttpCompletionOption completionOption = HttpCompletionOption.ResponseContentRead)
        {
            return new CaesarRequest(uri).GetJsonAsync<T>(cancellationToken, completionOption);
        }

        /// <summary>
        /// Creates a CaesarRequest and sends an asynchronous GET request.
        /// </summary>
        /// <param name="uri">This System.Uri.</param>
        /// <param name="cancellationToken">The token to monitor for cancellation requests.</param>
        /// <param name="completionOption">The HttpCompletionOption used in the request. Optional.</param>
        /// <returns>A Task whose result is the JSON response body deserialized to a dynamic.</returns>
        public static Task<dynamic> GetJsonAsync(this Uri uri, CancellationToken cancellationToken = default(CancellationToken), HttpCompletionOption completionOption = HttpCompletionOption.ResponseContentRead)
        {
            return new CaesarRequest(uri).GetJsonAsync(cancellationToken, completionOption);
        }

        /// <summary>
        /// Creates a CaesarRequest and sends an asynchronous GET request.
        /// </summary>
        /// <param name="uri">This System.Uri.</param>
        /// <param name="cancellationToken">The token to monitor for cancellation requests.</param>
        /// <param name="completionOption">The HttpCompletionOption used in the request. Optional.</param>
        /// <returns>A Task whose result is the JSON response body deserialized to a list of dynamics.</returns>
        public static Task<IList<dynamic>> GetJsonListAsync(this Uri uri, CancellationToken cancellationToken = default(CancellationToken), HttpCompletionOption completionOption = HttpCompletionOption.ResponseContentRead)
        {
            return new CaesarRequest(uri).GetJsonListAsync(cancellationToken, completionOption);
        }

        /// <summary>
        /// Creates a CaesarRequest and sends an asynchronous GET request.
        /// </summary>
        /// <param name="uri">This System.Uri.</param>
        /// <param name="cancellationToken">The token to monitor for cancellation requests.</param>
        /// <param name="completionOption">The HttpCompletionOption used in the request. Optional.</param>
        /// <returns>A Task whose result is the response body as a string.</returns>
        public static Task<string> GetStringAsync(this Uri uri, CancellationToken cancellationToken = default(CancellationToken), HttpCompletionOption completionOption = HttpCompletionOption.ResponseContentRead)
        {
            return new CaesarRequest(uri).GetStringAsync(cancellationToken, completionOption);
        }

        /// <summary>
        /// Creates a CaesarRequest and sends an asynchronous GET request.
        /// </summary>
        /// <param name="uri">This System.Uri.</param>
        /// <param name="cancellationToken">The token to monitor for cancellation requests.</param>
        /// <param name="completionOption">The HttpCompletionOption used in the request. Optional.</param>
        /// <returns>A Task whose result is the response body as a Stream.</returns>
        public static Task<Stream> GetStreamAsync(this Uri uri, CancellationToken cancellationToken = default(CancellationToken), HttpCompletionOption completionOption = HttpCompletionOption.ResponseContentRead)
        {
            return new CaesarRequest(uri).GetStreamAsync(cancellationToken, completionOption);
        }

        /// <summary>
        /// Creates a CaesarRequest and sends an asynchronous GET request.
        /// </summary>
        /// <param name="uri">This System.Uri.</param>
        /// <param name="cancellationToken">The token to monitor for cancellation requests.</param>
        /// <param name="completionOption">The HttpCompletionOption used in the request. Optional.</param>
        /// <returns>A Task whose result is the response body as a byte array.</returns>
        public static Task<byte[]> GetBytesAsync(this Uri uri, CancellationToken cancellationToken = default(CancellationToken), HttpCompletionOption completionOption = HttpCompletionOption.ResponseContentRead)
        {
            return new CaesarRequest(uri).GetBytesAsync(cancellationToken, completionOption);
        }

        /// <summary>
        /// Creates a CaesarRequest and sends an asynchronous POST request.
        /// </summary>
        /// <param name="uri">This System.Uri.</param>
        /// <param name="content">Contents of the request body.</param>
        /// <param name="cancellationToken">The token to monitor for cancellation requests.</param>
        /// <param name="completionOption">The HttpCompletionOption used in the request. Optional.</param>
        /// <returns>A Task whose result is the received ICaesarResponse.</returns>
        public static Task<ICaesarResponse> PostAsync(this Uri uri, HttpContent content = null, CancellationToken cancellationToken = default(CancellationToken), HttpCompletionOption completionOption = HttpCompletionOption.ResponseContentRead)
        {
            return new CaesarRequest(uri).PostAsync(content, cancellationToken, completionOption);
        }

        /// <summary>
        /// Creates a CaesarRequest and sends an asynchronous POST request.
        /// </summary>
        /// <param name="uri">This System.Uri.</param>
        /// <param name="data">An object representing the request body, which will be serialized to JSON.</param>
        /// <param name="cancellationToken">The token to monitor for cancellation requests.</param>
        /// <param name="completionOption">The HttpCompletionOption used in the request. Optional.</param>
        /// <returns>A Task whose result is the received ICaesarResponse.</returns>
        public static Task<ICaesarResponse> PostJsonAsync(this Uri uri, object data, CancellationToken cancellationToken = default(CancellationToken), HttpCompletionOption completionOption = HttpCompletionOption.ResponseContentRead)
        {
            return new CaesarRequest(uri).PostJsonAsync(data, cancellationToken, completionOption);
        }

        /// <summary>
        /// Creates a CaesarRequest and sends an asynchronous POST request.
        /// </summary>
        /// <param name="uri">This System.Uri.</param>
        /// <param name="data">Contents of the request body.</param>
        /// <param name="cancellationToken">The token to monitor for cancellation requests.</param>
        /// <param name="completionOption">The HttpCompletionOption used in the request. Optional.</param>
        /// <returns>A Task whose result is the received ICaesarResponse.</returns>
        public static Task<ICaesarResponse> PostStringAsync(this Uri uri, string data, CancellationToken cancellationToken = default(CancellationToken), HttpCompletionOption completionOption = HttpCompletionOption.ResponseContentRead)
        {
            return new CaesarRequest(uri).PostStringAsync(data, cancellationToken, completionOption);
        }

        /// <summary>
        /// Creates a CaesarRequest and sends an asynchronous POST request.
        /// </summary>
        /// <param name="uri">This System.Uri.</param>
        /// <param name="data">Contents of the request body.</param>
        /// <param name="cancellationToken">The token to monitor for cancellation requests.</param>
        /// <param name="completionOption">The HttpCompletionOption used in the request. Optional.</param>
        /// <returns>A Task whose result is the received ICaesarResponse.</returns>
        public static Task<ICaesarResponse> PostUrlEncodedAsync(this Uri uri, object data, CancellationToken cancellationToken = default(CancellationToken), HttpCompletionOption completionOption = HttpCompletionOption.ResponseContentRead)
        {
            return new CaesarRequest(uri).PostUrlEncodedAsync(data, cancellationToken, completionOption);
        }

        /// <summary>
        /// Creates a CaesarRequest and sends an asynchronous HEAD request.
        /// </summary>
        /// <param name="uri">This System.Uri.</param>
        /// <param name="cancellationToken">The token to monitor for cancellation requests.</param>
        /// <param name="completionOption">The HttpCompletionOption used in the request. Optional.</param>
        /// <returns>A Task whose result is the received ICaesarResponse.</returns>
        public static Task<ICaesarResponse> HeadAsync(this Uri uri, CancellationToken cancellationToken = default(CancellationToken), HttpCompletionOption completionOption = HttpCompletionOption.ResponseContentRead)
        {
            return new CaesarRequest(uri).HeadAsync(cancellationToken, completionOption);
        }

        /// <summary>
        /// Creates a CaesarRequest and sends an asynchronous PUT request.
        /// </summary>
        /// <param name="uri">This System.Uri.</param>
        /// <param name="content">Contents of the request body.</param>
        /// <param name="cancellationToken">The token to monitor for cancellation requests.</param>
        /// <param name="completionOption">The HttpCompletionOption used in the request. Optional.</param>
        /// <returns>A Task whose result is the received ICaesarResponse.</returns>
        public static Task<ICaesarResponse> PutAsync(this Uri uri, HttpContent content = null, CancellationToken cancellationToken = default(CancellationToken), HttpCompletionOption completionOption = HttpCompletionOption.ResponseContentRead)
        {
            return new CaesarRequest(uri).PutAsync(content, cancellationToken, completionOption);
        }

        /// <summary>
        /// Creates a CaesarRequest and sends an asynchronous PUT request.
        /// </summary>
        /// <param name="uri">This System.Uri.</param>
        /// <param name="data">An object representing the request body, which will be serialized to JSON.</param>
        /// <param name="cancellationToken">The token to monitor for cancellation requests.</param>
        /// <param name="completionOption">The HttpCompletionOption used in the request. Optional.</param>
        /// <returns>A Task whose result is the received ICaesarResponse.</returns>
        public static Task<ICaesarResponse> PutJsonAsync(this Uri uri, object data, CancellationToken cancellationToken = default(CancellationToken), HttpCompletionOption completionOption = HttpCompletionOption.ResponseContentRead)
        {
            return new CaesarRequest(uri).PutJsonAsync(data, cancellationToken, completionOption);
        }

        /// <summary>
        /// Creates a CaesarRequest and sends an asynchronous PUT request.
        /// </summary>
        /// <param name="uri">This System.Uri.</param>
        /// <param name="data">Contents of the request body.</param>
        /// <param name="cancellationToken">The token to monitor for cancellation requests.</param>
        /// <param name="completionOption">The HttpCompletionOption used in the request. Optional.</param>
        /// <returns>A Task whose result is the received ICaesarResponse.</returns>
        public static Task<ICaesarResponse> PutStringAsync(this Uri uri, string data, CancellationToken cancellationToken = default(CancellationToken), HttpCompletionOption completionOption = HttpCompletionOption.ResponseContentRead)
        {
            return new CaesarRequest(uri).PutStringAsync(data, cancellationToken, completionOption);
        }

        /// <summary>
        /// Creates a CaesarRequest and sends an asynchronous DELETE request.
        /// </summary>
        /// <param name="uri">This System.Uri.</param>
        /// <param name="cancellationToken">The token to monitor for cancellation requests.</param>
        /// <param name="completionOption">The HttpCompletionOption used in the request. Optional.</param>
        /// <returns>A Task whose result is the received ICaesarResponse.</returns>
        public static Task<ICaesarResponse> DeleteAsync(this Uri uri, CancellationToken cancellationToken = default(CancellationToken), HttpCompletionOption completionOption = HttpCompletionOption.ResponseContentRead)
        {
            return new CaesarRequest(uri).DeleteAsync(cancellationToken, completionOption);
        }

        /// <summary>
        /// Creates a CaesarRequest and sends an asynchronous PATCH request.
        /// </summary>
        /// <param name="uri">This System.Uri.</param>
        /// <param name="content">Contents of the request body.</param>
        /// <param name="cancellationToken">The token to monitor for cancellation requests.</param>
        /// <param name="completionOption">The HttpCompletionOption used in the request. Optional.</param>
        /// <returns>A Task whose result is the received ICaesarResponse.</returns>
        public static Task<ICaesarResponse> PatchAsync(this Uri uri, HttpContent content = null, CancellationToken cancellationToken = default(CancellationToken), HttpCompletionOption completionOption = HttpCompletionOption.ResponseContentRead)
        {
            return new CaesarRequest(uri).PatchAsync(content, cancellationToken, completionOption);
        }

        /// <summary>
        /// Creates a CaesarRequest and sends an asynchronous PATCH request.
        /// </summary>
        /// <param name="uri">This System.Uri.</param>
        /// <param name="data">An object representing the request body, which will be serialized to JSON.</param>
        /// <param name="cancellationToken">The token to monitor for cancellation requests.</param>
        /// <param name="completionOption">The HttpCompletionOption used in the request. Optional.</param>
        /// <returns>A Task whose result is the received ICaesarResponse.</returns>
        public static Task<ICaesarResponse> PatchJsonAsync(this Uri uri, object data, CancellationToken cancellationToken = default(CancellationToken), HttpCompletionOption completionOption = HttpCompletionOption.ResponseContentRead)
        {
            return new CaesarRequest(uri).PatchJsonAsync(data, cancellationToken, completionOption);
        }

        /// <summary>
        /// Creates a CaesarRequest and sends an asynchronous PATCH request.
        /// </summary>
        /// <param name="uri">This System.Uri.</param>
        /// <param name="data">Contents of the request body.</param>
        /// <param name="cancellationToken">The token to monitor for cancellation requests.</param>
        /// <param name="completionOption">The HttpCompletionOption used in the request. Optional.</param>
        /// <returns>A Task whose result is the received ICaesarResponse.</returns>
        public static Task<ICaesarResponse> PatchStringAsync(this Uri uri, string data, CancellationToken cancellationToken = default(CancellationToken), HttpCompletionOption completionOption = HttpCompletionOption.ResponseContentRead)
        {
            return new CaesarRequest(uri).PatchStringAsync(data, cancellationToken, completionOption);
        }

        /// <summary>
        /// Creates a CaesarRequest and sends an asynchronous OPTIONS request.
        /// </summary>
        /// <param name="uri">This System.Uri.</param>
        /// <param name="cancellationToken">The token to monitor for cancellation requests.</param>
        /// <param name="completionOption">The HttpCompletionOption used in the request. Optional.</param>
        /// <returns>A Task whose result is the received ICaesarResponse.</returns>
        public static Task<ICaesarResponse> OptionsAsync(this Uri uri, CancellationToken cancellationToken = default(CancellationToken), HttpCompletionOption completionOption = HttpCompletionOption.ResponseContentRead)
        {
            return new CaesarRequest(uri).OptionsAsync(cancellationToken, completionOption);
        }

        /// <summary>
        /// Creates a new CaesarRequest and sets a request header.
        /// </summary>
        /// <param name="uri">This System.Uri.</param>
        /// <param name="name">The header name.</param>
        /// <param name="value">The header value.</param>
        /// <returns>A new ICaesarRequest.</returns>
        public static ICaesarRequest WithHeader(this Uri uri, string name, object value)
        {
            return new CaesarRequest(uri).WithHeader(name, value);
        }

        /// <summary>
        /// Creates a new CaesarRequest and sets request headers based on property names/values of the provided object, or keys/values if object is a dictionary, to be sent.
        /// </summary>
        /// <param name="uri">This System.Uri.</param>
        /// <param name="headers">Names/values of HTTP headers to set. Typically an anonymous object or IDictionary.</param>
        /// <param name="replaceUnderscoreWithHyphen">If true, underscores in property names will be replaced by hyphens. Default is true.</param>
        /// <returns>A new ICaesarRequest.</returns>
        public static ICaesarRequest WithHeaders(this Uri uri, object headers, bool replaceUnderscoreWithHyphen = true)
        {
            return new CaesarRequest(uri).WithHeaders(headers, replaceUnderscoreWithHyphen);
        }

        /// <summary>
        /// Creates a new CaesarRequest and sets the Authorization header according to Basic Authentication protocol.
        /// </summary>
        /// <param name="uri">This System.Uri.</param>
        /// <param name="username">Username of authenticating user.</param>
        /// <param name="password">Password of authenticating user.</param>
        /// <returns>A new ICaesarRequest.</returns>
        public static ICaesarRequest WithBasicAuth(this Uri uri, string username, string password)
        {
            return new CaesarRequest(uri).WithBasicAuth(username, password);
        }

        /// <summary>
        /// Creates a new CaesarRequest and sets the Authorization header with a bearer token according to OAuth 2.0 specification.
        /// </summary>
        /// <param name="uri">This System.Uri.</param>
        /// <param name="token">The acquired oAuth bearer token.</param>
        /// <returns>A new ICaesarRequest.</returns>
        public static ICaesarRequest WithOAuthBearerToken(this Uri uri, string token)
        {
            return new CaesarRequest(uri).WithOAuthBearerToken(token);
        }

        /// <summary>
        /// Creates a new CaesarRequest and adds a name-value pair to its Cookie header. To automatically maintain a cookie "session", consider using a CookieJar or CookieSession instead.
        /// </summary>
        /// <param name="uri">This System.Uri.</param>
        /// <param name="name">The cookie name.</param>
        /// <param name="value">The cookie value.</param>
        /// <returns>A new ICaesarRequest.</returns>
        public static ICaesarRequest WithCookie(this Uri uri, string name, object value)
        {
            return new CaesarRequest(uri).WithCookie(name, value);
        }

        /// <summary>
        /// Creates a new CaesarRequest and adds name-value pairs to its Cookie header based on property names/values of the provided object, or keys/values if object is a dictionary. To automatically maintain a cookie "session", consider using a CookieJar or CookieSession instead.
        /// </summary>
        /// <param name="uri">This System.Uri.</param>
        /// <param name="values">Names/values of HTTP cookies to set. Typically an anonymous object or IDictionary.</param>
        /// <returns>A new ICaesarRequest.</returns>
        public static ICaesarRequest WithCookies(this Uri uri, object values)
        {
            return new CaesarRequest(uri).WithCookies(values);
        }

        /// <summary>
        /// Creates a new CaesarRequest and sets the CookieJar associated with this request, which will be updated with any Set-Cookie headers present in the response and is suitable for reuse in subsequent requests.
        /// </summary>
        /// <param name="uri">This System.Uri.</param>
        /// <param name="cookieJar">The CookieJar.</param>
        /// <returns>A new ICaesarRequest.</returns>
        public static ICaesarRequest WithCookies(this Uri uri, CookieJar cookieJar)
        {
            return new CaesarRequest(uri).WithCookies(cookieJar);
        }

        /// <summary>
        /// Creates a new CaesarRequest and associates it with a new CookieJar, which will be updated with any Set-Cookie headers present in the response and is suitable for reuse in subsequent requests.
        /// </summary>
        /// <param name="uri">This System.Uri.</param>
        /// <param name="cookieJar">The created CookieJar, which can be reused in subsequent requests.</param>
        /// <returns>A new ICaesarRequest.</returns>
        public static ICaesarRequest WithCookies(this Uri uri, out CookieJar cookieJar)
        {
            return new CaesarRequest(uri).WithCookies(out cookieJar);
        }

        /// <summary>
        /// Creates a new CaesarRequest and allows changing its Settings inline.
        /// </summary>
        /// <param name="uri">This System.Uri.</param>
        /// <param name="action">A delegate defining the Settings changes.</param>
        /// <returns>A new ICaesarRequest.</returns>
        public static ICaesarRequest ConfigureRequest(this Uri uri, Action<CaesarHttpSettings> action)
        {
            return new CaesarRequest(uri).ConfigureRequest(action);
        }

        /// <summary>
        /// Creates a new CaesarRequest and sets the request timeout.
        /// </summary>
        /// <param name="uri">This System.Uri.</param>
        /// <param name="timespan">Time to wait before the request times out.</param>
        /// <returns>A new ICaesarRequest.</returns>
        public static ICaesarRequest WithTimeout(this Uri uri, TimeSpan timespan)
        {
            return new CaesarRequest(uri).WithTimeout(timespan);
        }

        /// <summary>
        /// Creates a new CaesarRequest and sets the request timeout.
        /// </summary>
        /// <param name="uri">This System.Uri.</param>
        /// <param name="seconds">Seconds to wait before the request times out.</param>
        /// <returns>A new ICaesarRequest.</returns>
        public static ICaesarRequest WithTimeout(this Uri uri, int seconds)
        {
            return new CaesarRequest(uri).WithTimeout(seconds);
        }

        /// <summary>
        /// Creates a new CaesarRequest and adds a pattern representing an HTTP status code or range of codes which (in addition to 2xx) will NOT result in a CaesarHttpException being thrown.
        /// </summary>
        /// <param name="uri">This System.Uri.</param>
        /// <param name="pattern">Examples: "3xx", "100,300,600", "100-299,6xx"</param>
        /// <returns>A new ICaesarRequest.</returns>
        public static ICaesarRequest AllowHttpStatus(this Uri uri, string pattern)
        {
            return new CaesarRequest(uri).AllowHttpStatus(pattern);
        }

        /// <summary>
        /// Creates a new CaesarRequest and adds an HttpStatusCode which (in addition to 2xx) will NOT result in a CaesarHttpException being thrown.
        /// </summary>
        /// <param name="uri">This System.Uri.</param>
        /// <param name="statusCodes">The HttpStatusCode(s) to allow.</param>
        /// <returns>A new ICaesarRequest.</returns>
        public static ICaesarRequest AllowHttpStatus(this Uri uri, params HttpStatusCode[] statusCodes)
        {
            return new CaesarRequest(uri).AllowHttpStatus(statusCodes);
        }

        /// <summary>
        /// Creates a new CaesarRequest and configures it to allow any returned HTTP status without throwing a CaesarHttpException.
        /// </summary>
        /// <param name="uri">This System.Uri.</param>
        /// <returns>A new ICaesarRequest.</returns>
        public static ICaesarRequest AllowAnyHttpStatus(this Uri uri)
        {
            return new CaesarRequest(uri).AllowAnyHttpStatus();
        }

        /// <summary>
        /// Creates a new CaesarRequest and configures whether redirects are automatically followed.
        /// </summary>
        /// <param name="uri">This System.Uri.</param>
        /// <param name="enabled">true if Caesar should automatically send a new request to the redirect URL, false if it should not.</param>
        /// <returns>A new ICaesarRequest.</returns>
        public static ICaesarRequest WithAutoRedirect(this Uri uri, bool enabled)
        {
            return new CaesarRequest(uri).WithAutoRedirect(enabled);
        }



        /// <summary>
        /// Creates a new CaesarRequest and asynchronously downloads a file.
        /// </summary>
        /// <param name="uri">This System.Uri.</param>
        /// <param name="localFolderPath">Path of local folder where file is to be downloaded.</param>
        /// <param name="localFileName">Name of local file. If not specified, the source filename (last segment of the URL) is used.</param>
        /// <param name="bufferSize">Buffer size in bytes. Default is 4096.</param>
        /// <param name="cancellationToken">The token to monitor for cancellation requests.</param>
        /// <returns>A Task whose result is the local path of the downloaded file.</returns>
        public static Task<string> DownloadFileAsync(this Uri uri, string localFolderPath, string localFileName = null, int bufferSize = 4096, CancellationToken cancellationToken = default(CancellationToken))
        {
            return new CaesarRequest(uri).DownloadFileAsync(localFolderPath, localFileName, bufferSize, cancellationToken);
        }

        /// <summary>
        /// Creates a CaesarRequest and sends an asynchronous multipart/form-data POST request.
        /// </summary>
        /// <param name="uri">This System.Uri.</param>
        /// <param name="buildContent">A delegate for building the content parts.</param>
        /// <param name="cancellationToken">The token to monitor for cancellation requests.</param>
        /// <returns>A Task whose result is the received ICaesarResponse.</returns>
        public static Task<ICaesarResponse> PostMultipartAsync(this Uri uri, Action<CapturedMultipartContent> buildContent, CancellationToken cancellationToken = default(CancellationToken))
        {
            return new CaesarRequest(uri).PostMultipartAsync(buildContent, cancellationToken);
        }

    }
}
